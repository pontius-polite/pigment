(()=>{"use strict";var t={424:(t,e,n)=>{n.d(e,{Z:()=>h});var r=n(537),o=n.n(r),i=n(645),s=n.n(i),a=n(195),l=n(630),u=n(658),c=s()(o());c.i(a.Z),c.i(l.Z),c.i(u.Z),c.push([t.id,':root {\r\n  --menu-background-color: #282942;\r\n  --menu-selected-color: #3e3f66;\r\n  --text-color: #eaeaea;\r\n\r\n  font-family: "Trebuchet MS", Arial, sans-serif;\r\n  font-size: 16px;\r\n}\r\n\r\nbody {\r\n  margin: 0px;\r\n  overflow: hidden;\r\n}\r\n\r\n\r\n\r\n',"",{version:3,sources:["webpack://./src/index.css"],names:[],mappings:"AAIA;EACE,gCAAgC;EAChC,8BAA8B;EAC9B,qBAAqB;;EAErB,8CAA8C;EAC9C,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,gBAAgB;AAClB",sourcesContent:["@import url('./styles/menu.css');\r\n@import url('./styles/canvas.css');\r\n@import url('./styles/debug.css');\r\n\r\n:root {\r\n  --menu-background-color: #282942;\r\n  --menu-selected-color: #3e3f66;\r\n  --text-color: #eaeaea;\r\n\r\n  font-family: \"Trebuchet MS\", Arial, sans-serif;\r\n  font-size: 16px;\r\n}\r\n\r\nbody {\r\n  margin: 0px;\r\n  overflow: hidden;\r\n}\r\n\r\n\r\n\r\n"],sourceRoot:""}]);const h=c},630:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(537),o=n.n(r),i=n(645),s=n.n(i)()(o());s.push([t.id,".canvas-container {\r\n  position: relative;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  cursor: crosshair;\r\n}\r\n\r\n.canvas-container canvas {\r\n  position: absolute;\r\n  cursor: crosshair;\r\n}","",{version:3,sources:["webpack://./src/styles/canvas.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,iBAAiB;AACnB",sourcesContent:[".canvas-container {\r\n  position: relative;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  cursor: crosshair;\r\n}\r\n\r\n.canvas-container canvas {\r\n  position: absolute;\r\n  cursor: crosshair;\r\n}"],sourceRoot:""}]);const a=s},658:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(537),o=n.n(r),i=n(645),s=n.n(i)()(o());s.push([t.id,".debug-container {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 20px;\r\n  background-color: black;\r\n  color: white;\r\n  border: 2px solid white;\r\n  font-family: 'Lucida Console', monospace;\r\n  font-size: 14px;\r\n  padding: 8px;\r\n  user-select: none;\r\n  -moz-user-select: none;\r\n  -khtml-user-select: none;\r\n  -webkit-user-select: none;\r\n  -o-user-select: none;\r\n}","",{version:3,sources:["webpack://./src/styles/debug.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,YAAY;EACZ,UAAU;EACV,uBAAuB;EACvB,YAAY;EACZ,uBAAuB;EACvB,wCAAwC;EACxC,eAAe;EACf,YAAY;EACZ,iBAAiB;EACjB,sBAAsB;EACtB,wBAAwB;EACxB,yBAAyB;EACzB,oBAAoB;AACtB",sourcesContent:[".debug-container {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 20px;\r\n  background-color: black;\r\n  color: white;\r\n  border: 2px solid white;\r\n  font-family: 'Lucida Console', monospace;\r\n  font-size: 14px;\r\n  padding: 8px;\r\n  user-select: none;\r\n  -moz-user-select: none;\r\n  -khtml-user-select: none;\r\n  -webkit-user-select: none;\r\n  -o-user-select: none;\r\n}"],sourceRoot:""}]);const a=s},195:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(537),o=n.n(r),i=n(645),s=n.n(i)()(o());s.push([t.id,".menu-container {\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n  z-index: 3;\r\n  width: 100vw;\r\n  background-color: var(--menu-background-color);\r\n  color: var(--text-color);\r\n  box-shadow: 0px 5px 10px 0px black;\r\n}\r\n\r\n.menu-button-container {\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.menu-tab-button-container {\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.menu-nav-button-container {\r\n  margin-left: auto;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.menu-button {\r\n  padding: 10px;\r\n  cursor: pointer;\r\n  background-color: var(--menu-background-color);\r\n  -webkit-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n}\r\n\r\n.menu-button.selected {\r\n  background-color: var(--menu-selected-color);\r\n}\r\n\r\n.menu-panel {\r\n  padding: 5px;\r\n  background-color: var(--menu-selected-color);\r\n  display: none;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  font-size: 14px;\r\n  min-height: 35px;\r\n}\r\n\r\n.menu-panel-divider {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  padding: 5px;\r\n  border-bottom: 2px solid var(--menu-background-color);\r\n  min-height: 35px;\r\n}\r\n\r\n.menu-panel-divider-heading {\r\n  width: 80px;\r\n  padding: 5px;\r\n}\r\n\r\n.menu-button:hover {\r\n  box-shadow: 0px 1px 0px 0px white;\r\n  background-color: var(--menu-selected-color);\r\n}\r\n\r\n.menu-item-container {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  border-left: 2px solid var(--menu-background-color);\r\n  padding: 3px 8px 3px 8px;\r\n}\r\n\r\n.menu-item-container div {\r\n  font-size: 16px;\r\n  padding: 5px 5px 5px 5px;\r\n}\r\n\r\n.color-brush-dynamic-false {\r\n  display: none;\r\n}\r\n\r\n.color-particle-dynamic-true {\r\n  display: none;\r\n}\r\n\r\n.polar-reflection-true {\r\n  display: none;\r\n}\r\n\r\ninput[type=number] {\r\n  width: 50px;\r\n}\r\n\r\nlabel {\r\n  padding-right: 4px;\r\n}\r\n\r\na {\r\n  text-decoration: none;\r\n  color: white;\r\n}","",{version:3,sources:["webpack://./src/styles/menu.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,UAAU;EACV,YAAY;EACZ,8CAA8C;EAC9C,wBAAwB;EACxB,kCAAkC;AACpC;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,iBAAiB;EACjB,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,eAAe;EACf,8CAA8C;EAC9C,yBAAyB;EACzB,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA;EACE,4CAA4C;AAC9C;;AAEA;EACE,YAAY;EACZ,4CAA4C;EAC5C,aAAa;EACb,mBAAmB;EACnB,eAAe;EACf,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,eAAe;EACf,mBAAmB;EACnB,YAAY;EACZ,qDAAqD;EACrD,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,iCAAiC;EACjC,4CAA4C;AAC9C;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,mDAAmD;EACnD,wBAAwB;AAC1B;;AAEA;EACE,eAAe;EACf,wBAAwB;AAC1B;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,qBAAqB;EACrB,YAAY;AACd",sourcesContent:[".menu-container {\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n  z-index: 3;\r\n  width: 100vw;\r\n  background-color: var(--menu-background-color);\r\n  color: var(--text-color);\r\n  box-shadow: 0px 5px 10px 0px black;\r\n}\r\n\r\n.menu-button-container {\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.menu-tab-button-container {\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.menu-nav-button-container {\r\n  margin-left: auto;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.menu-button {\r\n  padding: 10px;\r\n  cursor: pointer;\r\n  background-color: var(--menu-background-color);\r\n  -webkit-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n}\r\n\r\n.menu-button.selected {\r\n  background-color: var(--menu-selected-color);\r\n}\r\n\r\n.menu-panel {\r\n  padding: 5px;\r\n  background-color: var(--menu-selected-color);\r\n  display: none;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  font-size: 14px;\r\n  min-height: 35px;\r\n}\r\n\r\n.menu-panel-divider {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  padding: 5px;\r\n  border-bottom: 2px solid var(--menu-background-color);\r\n  min-height: 35px;\r\n}\r\n\r\n.menu-panel-divider-heading {\r\n  width: 80px;\r\n  padding: 5px;\r\n}\r\n\r\n.menu-button:hover {\r\n  box-shadow: 0px 1px 0px 0px white;\r\n  background-color: var(--menu-selected-color);\r\n}\r\n\r\n.menu-item-container {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  border-left: 2px solid var(--menu-background-color);\r\n  padding: 3px 8px 3px 8px;\r\n}\r\n\r\n.menu-item-container div {\r\n  font-size: 16px;\r\n  padding: 5px 5px 5px 5px;\r\n}\r\n\r\n.color-brush-dynamic-false {\r\n  display: none;\r\n}\r\n\r\n.color-particle-dynamic-true {\r\n  display: none;\r\n}\r\n\r\n.polar-reflection-true {\r\n  display: none;\r\n}\r\n\r\ninput[type=number] {\r\n  width: 50px;\r\n}\r\n\r\nlabel {\r\n  padding-right: 4px;\r\n}\r\n\r\na {\r\n  text-decoration: none;\r\n  color: white;\r\n}"],sourceRoot:""}]);const a=s},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);r&&s[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),e.push(c))}},e}},537:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},s=[],a=0;a<t.length;a++){var l=t[a],u=r.base?l[0]+r.base:l[0],c=i[u]||0,h="".concat(u," ").concat(c);i[u]=c+1;var p=n(h),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(f);else{var y=o(f,r);r.byIndex=a,e.splice(a,0,{identifier:h,updater:y,references:1})}s.push(h)}return s}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var a=n(i[s]);e[a].references--}for(var l=r(t,o),u=0;u<i.length;u++){var c=n(i[u]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}i=l}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{var t=n(379),e=n.n(t),r=n(795),o=n.n(r),i=n(569),s=n.n(i),a=n(565),l=n.n(a),u=n(216),c=n.n(u),h=n(589),p=n.n(h),f=n(424),y={};function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===d(o)?o:String(o)),r)}var o}y.styleTagTransform=p(),y.setAttributes=l(),y.insert=s().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=c(),e()(f.Z,y),f.Z&&f.Z.locals&&f.Z.locals;const m=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n}var e,n;return e=t,(n=[{key:"distanceFromOrigin",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"distanceFrom",value:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}},{key:"addTo",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"interpolatePointsBetween",value:function(e,n){for(var r=[],o=(e.x-this.x)/(n+1),i=(e.y-this.y)/(n+1),s=0;s<n;s+=1){var a=o*(s+1)+this.x,l=i*(s+1)+this.y;r.push(new t(a,l))}return r}},{key:"floor",value:function(){this.x=Math.floor(this.x),this.y=Math.floor(this.y)}},{key:"toString",value:function(){return"{x: ".concat(this.x,", y: ").concat(this.y,"}")}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y}}])&&v(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===g(o)?o:String(o)),r)}var o}const A=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.position=new m(0,0),this.pressed=!1,this.previous={position:new m(0,0),pressed:!1},this.addEventHandlers()}var e,n;return e=t,(n=[{key:"addEventHandlers",value:function(){var t=this;this.element.addEventListener("mousemove",(function(e){t.position.x=e.offsetX,t.position.y=e.offsetY})),this.element.addEventListener("mousedown",(function(e){0===e.button&&(t.pressed=!0)})),this.element.addEventListener("mouseup",(function(e){t.pressed=!1})),this.element.addEventListener("mouseleave",(function(e){t.pressed=!1}))}},{key:"updatePreviousPosition",value:function(){this.previous.position.x=this.position.x,this.previous.position.y=this.position.y}},{key:"updatePreviousPressed",value:function(){this.previous.pressed=this.pressed}}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==w(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===w(o)?o:String(o)),r)}var o}var C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.context=e.getContext("2d"),this.width=e.width,this.height=e.height,this.offset=new m(Math.floor(this.width/2),Math.floor(this.height/2)),this.mouse=new A(e)}var e,n;return e=t,n=[{key:"setColor",value:function(t){this.context.fillStyle=t.toHSLString(),this.context.strokeStyle=t.toHSLString()}},{key:"setFillColor",value:function(t){this.context.fillStyle=t.toHSLString()}},{key:"setStrokeColor",value:function(t){this.context.strokeStyle=t.toHSLString()}},{key:"dimensions",value:function(){return{width:this.width,height:this.height}}},{key:"drawSquare",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.drawRect(t,e,n,n,r)}},{key:"drawRect",value:function(t,e,n,r,o){var i=Math.floor(t+this.offset.x),s=Math.floor(e+this.offset.y);o?this.context.fillRect(i-Math.floor(n/2),s-Math.floor(r/2),Math.floor(n),Math.floor(r)):this.context.strokeRect(i-Math.floor(n/2),s-Math.floor(r/2),Math.floor(n),Math.floor(r))}},{key:"drawCircle",value:function(t,e,n,r){var o=Math.floor(t+this.offset.x),i=Math.floor(e+this.offset.y);if(n<=2)this.context.fillRect(o,i,n,n);else{var s=Math.floor(n/2);this.context.beginPath(),this.context.arc(o,i,s,0,2*Math.PI),this.context.stroke(),r&&this.context.fill()}}},{key:"drawShape",value:function(t,e,n,r,o){"circle"!==t?this.drawSquare(e,n,r,o):this.drawCircle(e,n,r,o)}},{key:"drawLine",value:function(t,e,n,r,o){var i=Math.floor(t+this.offset.x),s=Math.floor(e+this.offset.y),a=Math.floor(n+this.offset.x),l=Math.floor(r+this.offset.y);o>1&&(o+=1),this.context.lineWidth=Math.floor(o),this.context.lineCap="round",this.context.beginPath(),this.context.moveTo(i,s),this.context.lineTo(a,l),this.context.stroke(),this.context.lineWidth=1}},{key:"clear",value:function(){this.context.clearRect(0,0,this.width,this.height)}},{key:"resize",value:function(t,e){var n=Math.round((t-this.width)/2),r=Math.round((e-this.height)/2),o=document.createElement("canvas");o.width=this.width,o.height=this.height,o.getContext("2d").drawImage(this.canvas,0,0),this.width=t,this.height=e,this.offset=new m(Math.floor(t/2),Math.floor(e/2)),this.canvas.width=t,this.canvas.height=e,this.context=this.canvas.getContext("2d"),this.context.clearRect(0,0,t,e),this.context.drawImage(o,n,r)}},{key:"mousePosition",value:function(){return new m(this.mouse.position.x-this.offset.x,this.mouse.position.y-this.offset.y)}},{key:"mouseX",value:function(){return this.mouse.position.x-this.offset.x}},{key:"mouseY",value:function(){return this.mouse.position.y-this.offset.y}},{key:"mousePreviousPosition",value:function(){return new m(this.mouse.previous.position.x-this.offset.x,this.mouse.previous.position.y-this.offset.y)}},{key:"mousePreviousX",value:function(){return this.mouse.previous.position.x-this.offset.x}},{key:"mousePreviousY",value:function(){return this.mouse.previous.position.y-this.offset.y}},{key:"mousePressed",value:function(){return this.mouse.pressed}},{key:"mousePreviousPressed",value:function(){return this.mouse.previous.pressed}},{key:"mouseMoveDistance",value:function(){return this.mousePosition().distanceFrom(this.mousePreviousPosition())}},{key:"updateMousePosition",value:function(){this.mouse.updatePreviousPosition()}},{key:"updateMousePressed",value:function(){this.mouse.updatePreviousPressed()}}],n&&x(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const k=C;function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==P(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===P(o)?o:String(o)),r)}var o}const E=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.addEventListeners(e)}var e,n;return e=t,(n=[{key:"addEventListeners",value:function(t){document.documentElement.addEventListener("keyup",(function(e){var n=e.key.toLowerCase();console.log("Key Pressed: <".concat(n,">")),-1!==Object.keys(t).indexOf(n)&&t[n]()}))}}])&&S(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==B(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===B(o)?o:String(o)),r)}var o}const j=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hue=void 0!==e?e:329,this.saturation=void 0!==n?n:100,this.lightness=void 0!==r?r:50,console.assert(this.hue>=0&&this.hue<=360),console.assert(this.saturation>=0&&this.saturation<=100),console.assert(this.lightness>=0&&this.lightness<=100)}var e,n,r;return e=t,n=[{key:"equals",value:function(t){return this.hue===t.hue&&this.saturation===t.saturation&&this.lightness===t.lightness}},{key:"moveTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Math.abs(t.hue-this.hue)<180?this.hue<t.hue?this.hue=Math.min(this.hue+e,t.hue):this.hue=Math.max(this.hue-e,t.hue):this.hue<t.hue?this.hue-=e:this.hue+=e,this.saturation<t.saturation?this.saturation=Math.min(this.saturation+e,t.saturation):this.saturation=Math.max(this.saturation-e,t.saturation),this.lightness<t.lightness?this.lightness=Math.min(this.lightness+e,t.lightness):this.lightness=Math.max(this.lightness-e,t.lightness),this.applyHSLBounds()}},{key:"applyHSLBounds",value:function(){this.hue=(this.hue+360)%360,this.saturation=Math.min(this.saturation,100),this.saturation=Math.max(this.saturation,0),this.lightness=Math.min(this.lightness,100),this.lightness=Math.max(this.lightness,0)}},{key:"copy",value:function(){return new t(this.hue,this.saturation,this.lightness)}},{key:"toHSLString",value:function(){var t=Math.floor(this.hue),e=Math.floor(this.saturation),n=Math.floor(this.lightness);return"hsl(".concat(t,", ").concat(e,"%, ").concat(n,"%)")}}],r=[{key:"deserialize",value:function(e){return new t(e.hue,e.saturation,e.lightness)}}],n&&M(e.prototype,n),r&&M(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();var O=function(t,e){return console.assert(t<=e),Math.floor(Math.random()*(e-t+1)+t)},T=function(t,e){return console.assert(t<=e),Math.random()*(e-t)+t};function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R(r.key),r)}}function L(t,e,n){return(e=R(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R(t){var e=function(t,e){if("object"!==D(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===D(e)?e:String(e)}const q=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),L(this,"applyDynamics",{static:function(){},cycleHue:function(){n.color.hue-=n.speed,n.color.hue<0&&(n.color.hue=360)},cycleSaturation:function(){n.color.saturation+=n.speed*n.cycleDirection.saturation,n.color.saturation>100&&(n.color.saturation=100,n.cycleDirection.saturation=-1),n.color.saturation<0&&(n.color.saturation=0,n.cycleDirection.saturation=1)},cycleLightness:function(){n.color.lightness+=n.speed*n.cycleDirection.lightness,n.color.lightness>100&&(n.color.lightness=100,n.cycleDirection.lightness=-1),n.color.lightness<0&&(n.color.lightness=0,n.cycleDirection.lightness=1)},path:function(){if(n.path.colors.length>1){var t=(n.path.current+1)%n.path.colors.length,e=n.path.colors[t];n.color.moveTo(e,n.speed),n.color.equals(e)&&(n.path.current=(n.path.current+1)%n.path.colors.length)}},random:function(){n.color.hue=O(0,359),n.color.lightness=50,n.color.saturation=O(75,100)}}),this.color=void 0!==e?e:new j,this.speed=1,this.interval=1,this.style="cycleHue",this.cycleDirection={hue:1,saturation:1,lightness:1},this.path={current:0,colors:[this.color]},this.tempColor=this.color.copy(),this.updates=0}var e,n,r;return e=t,r=[{key:"deserialize",value:function(e){var n=new j(e.color.hue,e.color.saturation,e.color.lightness),r=new t(n);return r.style=e.style,r.speed=e.speed,r.interval=e.interval,r.path=e.path,r.tempColor=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){L(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n),r}},{key:"decompress",value:function(e){var n=new t(new j(e[0],e[1],e[2]));return n.style=e[3],n.speed=e[4],n.interval=e[5],n.path=e[6],n}}],(n=[{key:"newColor",value:function(){return this.update(),this.updates%this.interval!=0?this.tempColor:(this.tempColor=this.color.copy(),this.color)}},{key:"update",value:function(){this.applyDynamics[this.style](),this.updates+=1}},{key:"copy",value:function(){var e=new t(this.color.copy());return e.speed=this.speed,e.interval=this.interval,e.style=this.style,e.path=this.path,e}},{key:"serialize",value:function(){return JSON.stringify({color:this.color,speed:this.speed,interval:this.interval,path:this.path,style:this.style})}},{key:"compressToArray",value:function(){return[this.color.hue,this.color.saturation,this.color.lightness,this.style,this.speed,this.interval,this.path]}}])&&I(e.prototype,n),r&&I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),G={creep:function(t,e){var n=4*e;t.velocity.x=T(-1*n,n),t.velocity.y=T(-1*n,n),t.applyVelocity()},spaghetti:function(t,e){var n=e/4;t.velocity.x+=T(-1*n,n),t.velocity.y+=T(-1*n,n),t.applyVelocity()},crystal:function(t,e){var n=2*e;if(0===t.timer){var r=O(0,1);t.velocity.x=r?n:-1*n,r=O(0,1),t.velocity.y=r?n:-1*n,t.timer=O(2,5)}t.applyVelocity(),t.timer-=1},tesseract:function(t,e){var n=1*e;0===t.timer&&(t.velocity.x=O(-1,1)*n,t.velocity.y=O(-1,1)*n,t.timer=O(80,90)),t.applyVelocity(),t.timer-=1},drip:function(t,e){var n=5*e;t.velocity.x=0,t.velocity.y*=.95,Math.abs(t.velocity.y<.05)&&(t.velocity.y=T(1,n)),t.applyVelocity()},fountain:function(t,e){var n=3*e;t.age<=1&&(t.velocity.x=T(-1*n,n),t.velocity.y=T(-1*n,n)),t.velocity.y+=n/20,t.applyVelocity()},turntable:function(t,e){var n=e,r=2*Math.PI*n/360;t.position.x=t.position.x*Math.cos(r)-t.position.y*Math.sin(r),t.position.y=t.position.x*Math.sin(r)+t.position.y*Math.cos(r),t.applyVelocity()},firework:function(t,e){var n=10*e;if(0===t.age){var r=T(0,2*Math.PI);t.velocity.x=Math.cos(r)*n,t.velocity.y=Math.sin(r)*n}t.velocity.x*=.95,t.velocity.y*=.95,t.applyVelocity()},still:function(t,e){}};function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==H(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===H(o)?o:String(o)),r)}var o}const Y=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=new m(e,n),this.prevPosition=new m(e,n),this.velocity=new m(0,0),this.color=new j,this.colorGenerator=null,this.size=5,this.age=0,this.timer=0}var e,n;return e=t,(n=[{key:"applyMovementDynamic",value:function(t,e,n){G[t](this,e,n)}},{key:"applyVelocity",value:function(){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y}},{key:"updatePrevPosition",value:function(){this.prevPosition.x=this.position.x,this.prevPosition.y=this.position.y}},{key:"hasMoved",value:function(){return!this.position.equals(this.prevPosition)}}])&&N(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();var Z=2*Math.PI,V={none:function(t){return[]},vertical:function(t){return[new m(-1*t.x,t.y)]},horizontal:function(t){return[new m(t.x,-1*t.y)]},diagonal:function(t){return[new m(-1*t.x,-1*t.y)]},polar:function(t,e){if(2===e)return[new m(-1*t.x,-1*t.y)];for(var n=Z/e,r=[],o=n;o<Z;o+=n){var i=t.x*Math.cos(o)-t.y*Math.sin(o),s=t.x*Math.sin(o)+t.y*Math.cos(o);r.push(new m(Math.floor(i),Math.floor(s)))}return r}};const F=function(t,e){return V[e.type](t,e.amount)};function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function W(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==U(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===U(o)?o:String(o)),r)}var o}const _=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.grid=e,this.particles=[],this.settings={pauseMovement:!1,size:4,MAX_SIZE:200,growth:-.02,shape:"circle",outline:!1,speed:1,movement:"creep",bounce:!1,followMouse:!1,brushColor:new j(327,100,50),dynamicBrushColor:!0,useBrushColor:!1,dynamicParticleColor:!1,reflection:{type:"none",amount:3},lifespan:240,interpolateMouse:!0,interpolateParticles:!0},this.brushColorGenerator=this.initBrushColorGenerator(),this.particleColorGenerator=this.initParticleColorGenerator(),this.updates=0}var e,n;return e=t,(n=[{key:"initBrushColorGenerator",value:function(){var t=new q(this.settings.brushColor.copy());return t.style="cycleHue",t.speed=1,t.interval=1,t}},{key:"initParticleColorGenerator",value:function(){var t=this.brushColorGenerator.copy();return t.speed=2,t}},{key:"updateAndDraw",value:function(){this.updateBrushColor(),this.addNewParticles(),this.drawMouseInterpolation(),this.updateAndDrawParticles(),this.updates+=1}},{key:"updateBrushColor",value:function(){this.settings.dynamicBrushColor&&this.grid.mousePressed()&&(this.settings.brushColor=this.brushColorGenerator.newColor(),this.grid.setColor(this.settings.brushColor))}},{key:"addNewParticles",value:function(){this.grid.mousePressed()&&(this.addParticle(this.grid.mousePosition()),this.shouldInterpolateMouse()&&this.addParticleMouseInterpolations())}},{key:"shouldInterpolateMouse",value:function(){return this.settings.interpolateMouse&&this.grid.mousePressed()&&this.grid.mousePreviousPressed()}},{key:"addParticle",value:function(t){var e=new Y(t.x,t.y);e.color=this.settings.brushColor.copy(),e.size=this.settings.size,this.settings.dynamicParticleColor&&(e.colorGenerator=this.createParticleColorGenerator()),this.particles.push(e)}},{key:"createParticleColorGenerator",value:function(){var t=this.particleColorGenerator.copy();return t.color=this.brushColorGenerator.color.copy(),t}},{key:"addParticleMouseInterpolations",value:function(){var t=this.grid.mouseMoveDistance(),e=Math.floor(t/this.settings.size)+1;this.settings.size<3&&(e=Math.floor(e/2));var n,r=W(this.grid.mousePosition().interpolatePointsBetween(this.grid.mousePreviousPosition(),e));try{for(r.s();!(n=r.n()).done;){var o=n.value;this.addParticle(o)}}catch(t){r.e(t)}finally{r.f()}}},{key:"drawMouseInterpolation",value:function(){this.shouldInterpolateMouse()&&!this.settings.outline&&(this.grid.drawLine(this.grid.mouseX(),this.grid.mouseY(),this.grid.mousePreviousX(),this.grid.mousePreviousY(),this.settings.size),this.shouldReflectionBeDrawn()&&this.drawMouseInterpolationReflections())}},{key:"shouldReflectionBeDrawn",value:function(){return"none"!==this.settings.reflection.type}},{key:"drawMouseInterpolationReflections",value:function(){if(this.shouldInterpolateMouse())for(var t=F(this.grid.mousePosition(),this.settings.reflection),e=F(this.grid.mousePreviousPosition(),this.settings.reflection),n=0;n<t.length;n+=1){var r=t[n],o=e[n];this.grid.drawLine(r.x,r.y,o.x,o.y,this.settings.size)}}},{key:"updateAndDrawParticles",value:function(){var t,e=W(this.particles);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.updateParticle(n),this.drawParticle(n)}}catch(t){e.e(t)}finally{e.f()}this.removeDeadParticles()}},{key:"updateParticle",value:function(t){this.settings.pauseMovement||(t.updatePrevPosition(),t.applyMovementDynamic(this.settings.movement,this.settings.speed),this.settings.bounce&&this.bounceParticle(t),this.settings.followMouse&&this.driftToMouse(t),t.size+=this.settings.growth,t.size=Math.min(t.size,this.settings.MAX_SIZE),t.age+=1,this.senesceInvalidParticle(t))}},{key:"bounceParticle",value:function(t){var e=this.grid.width/2,n=this.grid.height/2,r=(t.size,-.9);t.position.x>e&&(t.position.x=e,t.velocity.x*=r),t.position.x<-1*e&&(t.position.x=-1*e,t.velocity.x*=r),t.position.y>n&&(t.position.y=n,t.velocity.y*=r),t.position.y<-1*n&&(t.position.y=-1*n,t.velocity.y*=r)}},{key:"driftToMouse",value:function(t){var e=.001*this.settings.speed,n=4*(this.grid.mousePosition().x-t.position.x),r=4*(this.grid.mousePosition().y-t.position.y);t.position.x+=e*n,t.position.y+=e*r}},{key:"senesceInvalidParticle",value:function(t){(t.size<=0||Math.abs(t.position.x)>this.grid.width||Math.abs(t.position.y)>this.grid.height)&&(t.age=this.settings.lifespan)}},{key:"drawParticle",value:function(t){this.settings.useBrushColor||this.applyParticleColorToGrid(t),this.grid.drawShape(this.settings.shape,t.position.x,t.position.y,t.size,!this.settings.outline),this.drawParticleMovementInterpolation(t),this.shouldReflectionBeDrawn()&&this.drawParticleReflections(t)}},{key:"applyParticleColorToGrid",value:function(t){this.settings.dynamicParticleColor&&t.colorGenerator&&(t.color=t.colorGenerator.newColor()),this.grid.setColor(t.color)}},{key:"shouldInterpolateParticles",value:function(t){return this.settings.interpolateParticles&&!this.settings.outline&&t.hasMoved()}},{key:"drawParticleMovementInterpolation",value:function(t){this.shouldInterpolateParticles(t)&&this.grid.drawLine(t.prevPosition.x,t.prevPosition.y,t.position.x,t.position.y,t.size)}},{key:"drawParticleReflections",value:function(t){var e=F(t.position,this.settings.reflection),n=null;this.shouldInterpolateParticles(t)&&(n=F(t.prevPosition,this.settings.reflection));for(var r=0;r<e.length;r+=1){var o=e[r];if(this.drawParticleCopy(t,o),n){var i=n[r];this.grid.drawLine(i.x,i.y,o.x,o.y,t.size)}}}},{key:"drawParticleCopy",value:function(t,e){this.grid.drawShape(this.settings.shape,e.x,e.y,t.size,!this.settings.outline)}},{key:"removeDeadParticles",value:function(){if(this.particles.length>0){var t,e=0,n=W(this.particles);try{for(n.s();!((t=n.n()).done||t.value.age<this.settings.lifespan);)e+=1}catch(t){n.e(t)}finally{n.f()}this.particles.splice(0,e)}}},{key:"removeParticles",value:function(t){this.particles.splice(0,t)}}])&&J(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Q(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Q(o)?o:String(o)),r)}var o}const K=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.start=Date.now(),this.currentDelta=0,this.sampleSize=e,this.sampleDeltas=[],this.updates=0}var e,n;return e=t,(n=[{key:"update",value:function(){var t=Date.now();this.currentDelta=t-this.start,this.start=t,this.sampleDeltas[this.updates%this.sampleSize]=this.currentDelta,this.updates+=1}},{key:"averageDelta",value:function(){return this.sampleDeltas.reduce((function(t,e){return t+e}),0)/this.sampleSize}}])&&$(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==tt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===tt(o)?o:String(o)),r)}var o}const nt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isVisible=!1,this.debugElement=document.querySelector(".debug-container"),console.assert(null!==this.debugElement)}var e,n;return e=t,(n=[{key:"update",value:function(t){if(this.isVisible){for(var e="",n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];e+='<div class="dubug-info">'.concat(o,": ").concat(t[o],"</div>")}this.debugElement.innerHTML=e}}},{key:"show",value:function(){this.isVisible=!0,this.debugElement.style.display="block"}},{key:"hide",value:function(){this.isVisible=!1,this.debugElement.style.display="none"}},{key:"toggle",value:function(){return this.isVisible?this.hide():this.show()}}])&&et(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==rt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===rt(o)?o:String(o)),r)}var o}var it=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.grid=new k(e),this.backgroundElement=n,this.brush=new _(this.grid),this.debugView=new nt,this.debugSampleRate=2,this.frameTimer=new K(10),this.lastUpdate=0,this.updateTimer=new K(10),this.targetUPS=30,this.targetDelta=1e3/this.targetUPS,this.updates=0,this.settings={backgroundColor:new j(249,32,8),dynamicallyRemoveParticles:!1},this.keys=new E({" ":function(){return r.handlePause()},d:function(){return r.debugView.toggle()},escape:function(){return r.clear()}})}var e,n;return e=t,(n=[{key:"init",value:function(){this.resize(),this.updateAndRender()}},{key:"updateAndRender",value:function(){var t=this;window.requestAnimationFrame((function(){return t.updateAndRender()})),this.frameTimer.update(),this.grid.updateMousePressed(),this.frameTimer.start-this.lastUpdate>this.targetDelta&&(this.lastUpdate=Date.now(),this.updateTimer.update(),this.updateBackgroundColor(),this.trimPaintbrushForPerformance(),this.brush.updateAndDraw(),this.grid.updateMousePosition(),this.updates%this.debugSampleRate==0&&this.updateDebugDisplay(),this.updates+=1)}},{key:"handlePause",value:function(){this.brush.settings.pauseMovement=!this.brush.settings.pauseMovement}},{key:"trimPaintbrushForPerformance",value:function(){if(this.settings.dynamicallyRemoveParticles){var t=this.updateTimer.averageDelta()-this.targetDelta;if(t>15){var e=Math.floor(10*t+20);console.log("Removing ".concat(e," particles impacting performance")),this.brush.particles.splice(0,e)}}}},{key:"updateBackgroundColor",value:function(){this.backgroundElement.style.backgroundColor=this.settings.backgroundColor.toHSLString()}},{key:"updateDebugDisplay",value:function(){this.debugView.update({FPS:Math.floor(1e3/this.frameTimer.averageDelta()),UPS:Math.floor(1e3/this.updateTimer.averageDelta()),"target time":Math.floor(this.targetDelta),"update time":this.updateTimer.averageDelta(),updates:this.brush.updates,paused:this.brush.settings.pauseMovement,dimensions:"".concat(this.grid.width," x ").concat(this.grid.height),"mouse pos":this.grid.mousePosition(),"mouse down":this.grid.mousePressed(),particles:this.brush.particles.length,"brush color":this.brush.settings.brushColor.toHSLString()})}},{key:"resize",value:function(){var t=document.body.clientWidth,e=document.body.clientHeight;this.backgroundElement.width=t,this.backgroundElement.height=e,this.grid.resize(t,e)}},{key:"clear",value:function(){this.grid.clear(),this.brush.particles=[]}}])&&ot(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const st=it;var at=function(t){var e=t.hue,n=t.saturation,r=t.lightness;n/=100,r/=100;var o=(1-Math.abs(2*r-1))*n,i=o*(1-Math.abs(e/60%2-1)),s=r-o/2,a=0,l=0,u=0;return 0<=e&&e<60?(a=o,l=i,u=0):60<=e&&e<120?(a=i,l=o,u=0):120<=e&&e<180?(a=0,l=o,u=i):180<=e&&e<240?(a=0,l=i,u=o):240<=e&&e<300?(a=i,l=0,u=o):300<=e&&e<360&&(a=o,l=0,u=i),a=Math.round(255*(a+s)).toString(16),l=Math.round(255*(l+s)).toString(16),u=Math.round(255*(u+s)).toString(16),1==a.length&&(a="0"+a),1==l.length&&(l="0"+l),1==u.length&&(u="0"+u),"#"+a+l+u},lt=function(t){var e=t,n=0,r=0,o=0;4==e.length?(n="0x"+e[1]+e[1],r="0x"+e[2]+e[2],o="0x"+e[3]+e[3]):7==e.length&&(n="0x"+e[1]+e[2],r="0x"+e[3]+e[4],o="0x"+e[5]+e[6]),n/=255,r/=255,o/=255;var i=Math.min(n,r,o),s=Math.max(n,r,o),a=s-i,l=0,u=0,c=0;return l=0==a?0:s==n?(r-o)/a%6:s==r?(o-n)/a+2:(n-r)/a+4,(l=Math.round(60*l))<0&&(l+=360),c=(s+i)/2,u=+(100*(u=0==a?0:a/(1-Math.abs(2*c-1)))).toFixed(1),c=+(100*c).toFixed(1),u=Math.round(u),c=Math.round(c),new j(l,u,c)};const ut=JSON.parse('{"brownian fungus":["creep",1,4,-0.02,false,false,false,"#ff008c",true,1,1,false,false,2,1,"none",3],"the three fates":["still",1.5,10,2,false,false,false,"#5900ff",true,3,1,false,true,1,1,"polar",3],"anemone bloom":["spaghetti",0.5,10,0,false,false,true,"#002aff",true,1,1,false,true,1,1,"none",3],"mind, drips":["drip",1,6,0,false,false,false,"#00eeff",true,1,1,false,false,2,1,"horizontal",3],"an awesome wave":["fountain",1,4,1,false,true,false,"#ff008c",true,1,1,false,true,2,1,"none",3],"prismatic core":["tesseract",1,1,0,false,false,false,"#00ff77",true,1,1,false,false,2,1,"none",3],"billiard table":["firework",5,10,0,false,true,false,"#ffaa00",true,1,1,false,false,2,1,"none",3]}'),ct=JSON.parse('{"rainbow":{"color":{"hue":327,"saturation":100,"lightness":50},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":327,"saturation":100,"lightness":50}]},"style":"cycleHue"},"chaos":{"color":{"hue":194,"saturation":100,"lightness":50},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":194,"saturation":100,"lightness":50}]},"style":"random"},"nautical":{"color":{"hue":250,"saturation":100,"lightness":50},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":250,"saturation":100,"lightness":50},{"hue":183,"saturation":100,"lightness":58}]},"style":"path"},"aflame":{"color":{"hue":0,"saturation":100,"lightness":50},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":0,"saturation":100,"lightness":50},{"hue":56,"saturation":100,"lightness":50}]},"style":"path"},"tropical":{"color":{"hue":200,"saturation":100,"lightness":50},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":200,"saturation":100,"lightness":50},{"hue":71,"saturation":100,"lightness":50}]},"style":"path"},"abyss":{"color":{"hue":270,"saturation":100,"lightness":31},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":270,"saturation":100,"lightness":31},{"hue":232,"saturation":100,"lightness":28},{"hue":270,"saturation":100,"lightness":0}]},"style":"path"},"spring":{"color":{"hue":151,"saturation":100,"lightness":70},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":151,"saturation":100,"lightness":70},{"hue":302,"saturation":100,"lightness":79},{"hue":191,"saturation":100,"lightness":72},{"hue":55,"saturation":100,"lightness":79}]},"style":"path"},"summer":{"color":{"hue":133,"saturation":100,"lightness":40},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":133,"saturation":100,"lightness":40},{"hue":179,"saturation":100,"lightness":50},{"hue":55,"saturation":100,"lightness":58},{"hue":4,"saturation":100,"lightness":60}]},"style":"path"},"winter":{"color":{"hue":187,"saturation":100,"lightness":100},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":187,"saturation":100,"lightness":100},{"hue":187,"saturation":100,"lightness":50},{"hue":261,"saturation":100,"lightness":81},{"hue":261,"saturation":0,"lightness":81}]},"style":"path"},"autumn":{"color":{"hue":59,"saturation":100,"lightness":50},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":59,"saturation":100,"lightness":50},{"hue":21,"saturation":100,"lightness":58},{"hue":84,"saturation":100,"lightness":57}]},"style":"path"},"primaries":{"color":{"hue":60,"saturation":100,"lightness":50},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":60,"saturation":100,"lightness":50},{"hue":0,"saturation":100,"lightness":50},{"hue":240,"saturation":100,"lightness":50}]},"style":"path"},"grayscale":{"color":{"hue":0,"saturation":0,"lightness":100},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":0,"saturation":0,"lightness":100},{"hue":0,"saturation":0,"lightness":0}]},"style":"path"},"vaporwave":{"color":{"hue":179,"saturation":100,"lightness":74},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":179,"saturation":100,"lightness":74},{"hue":312,"saturation":100,"lightness":83}]},"style":"path"},"tokyo":{"color":{"hue":318,"saturation":100,"lightness":50},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":318,"saturation":100,"lightness":50},{"hue":258,"saturation":100,"lightness":50},{"hue":200,"saturation":40,"lightness":33}]},"style":"path"},"western":{"color":{"hue":5,"saturation":47,"lightness":39},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":5,"saturation":47,"lightness":39},{"hue":41,"saturation":64,"lightness":59},{"hue":50,"saturation":90,"lightness":61}]},"style":"path"},"ol\' glory":{"color":{"hue":0,"saturation":100,"lightness":50},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":0,"saturation":100,"lightness":50},{"hue":320,"saturation":100,"lightness":100},{"hue":280,"saturation":100,"lightness":100},{"hue":237,"saturation":100,"lightness":50},{"hue":280,"saturation":100,"lightness":100},{"hue":320,"saturation":100,"lightness":100}]},"style":"path"},"mad max":{"color":{"hue":35,"saturation":100,"lightness":50},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":35,"saturation":100,"lightness":50},{"hue":120,"saturation":0,"lightness":25},{"hue":211,"saturation":100,"lightness":50},{"hue":120,"saturation":0,"lightness":25}]},"style":"path"},"minimalist":{"color":{"hue":53,"saturation":38,"lightness":70},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":53,"saturation":38,"lightness":70},{"hue":53,"saturation":38,"lightness":100}]},"style":"path"},"toad":{"color":{"hue":41,"saturation":100,"lightness":17},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":41,"saturation":100,"lightness":17},{"hue":121,"saturation":100,"lightness":32}]},"style":"path"},"frog":{"color":{"hue":155,"saturation":100,"lightness":50},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":155,"saturation":100,"lightness":50},{"hue":108,"saturation":100,"lightness":80},{"hue":85,"saturation":100,"lightness":63}]},"style":"path"},"dog vision":{"color":{"hue":238,"saturation":32,"lightness":67},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":238,"saturation":32,"lightness":67},{"hue":65,"saturation":32,"lightness":67},{"hue":65,"saturation":94,"lightness":63},{"hue":239,"saturation":32,"lightness":67},{"hue":239,"saturation":80,"lightness":55}]},"style":"path"},"bee sting":{"color":{"hue":61,"saturation":100,"lightness":50},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":61,"saturation":100,"lightness":50},{"hue":61,"saturation":100,"lightness":0},{"hue":61,"saturation":100,"lightness":50},{"hue":61,"saturation":100,"lightness":0},{"hue":61,"saturation":100,"lightness":50},{"hue":61,"saturation":100,"lightness":0},{"hue":0,"saturation":100,"lightness":50}]},"style":"path"},"hank hill":{"color":{"hue":19,"saturation":59,"lightness":70},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":19,"saturation":59,"lightness":70},{"hue":205,"saturation":0,"lightness":90},{"hue":205,"saturation":75,"lightness":72},{"hue":24,"saturation":21,"lightness":28}]},"style":"path"}}');function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(n),!0).forEach((function(e){yt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yt(t,e,n){return(e=gt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return vt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gt(r.key),r)}}function gt(t){var e=function(t,e){if("object"!==ht(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ht(e)?e:String(e)}var bt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.painting=e,this.brush=e.brush,this.createMenuTabbing(),this.addSelectOptions(),this.addInputEventListeners(),this.defaultPreset=ut["brownian fungus"],this.applyBrushPreset(this.defaultPreset),this.applySettingsToDOM(this.getSettingsFromPainting()),this.keys=new E({c:function(){return navigator.clipboard.writeText(n.getBrushPresetJSON())}})}var e,n;return e=t,(n=[{key:"createMenuTabbing",value:function(){for(var t=this,e=document.querySelector(".menu-tab-button-container").children,n=0;n<e.length;n+=1)e[n].onclick=function(e){var n=document.getElementById(e.target.getAttribute("panel"));e.target.classList.contains("selected")?t.deselectAllPanels():(t.deselectAllPanels(),e.target.classList.add("selected"),n.style.display="flex","color-panel"===n.id&&(n.style.display="block"))}}},{key:"deselectAllPanels",value:function(){var t,e=dt(document.getElementsByClassName("selected"));try{for(e.s();!(t=e.n()).done;)t.value.classList.remove("selected")}catch(t){e.e(t)}finally{e.f()}var n,r=dt(document.getElementsByClassName("menu-panel"));try{for(r.s();!(n=r.n()).done;)n.value.style.display="none"}catch(t){r.e(t)}finally{r.f()}}},{key:"addInputEventListeners",value:function(){for(var t=this,e=this.getSettingsFromPainting(),n=function(){var e=o[r],n=document.querySelector("[name=".concat(e,"]"));n&&(n.onchange=function(n){var r=t.getSettingsFromPainting();switch(n.target.type){case"number":var o=Number(n.target.value);o<Number(n.target.min)&&(o=Number(n.target.min),n.target.value=o),o>Number(n.target.max)&&(o=Number(n.target.max),n.target.value=o),console.log("".concat(e," changed to ").concat(o)),r[e]=o;break;case"checkbox":var i=n.target.checked;r[e]=i,console.log("".concat(e," changed to ").concat(i)),"color-brush-dynamic"!==n.target.name&&"color-particle-dynamic"!==n.target.name||t.toggleColorBoxes(n.target.name,i);break;case"color":var s=n.target.value;r[e]=lt(s),console.log("".concat(e," changed to ").concat(s));break;default:r[e]=n.target.value,console.log("".concat(e," changed to ").concat(n.target.value))}"reflection-type"===n.target.name&&t.toggleReflectionAmountBox(n.target.value),t.applySettingsToPainting(r)})},r=0,o=Object.keys(e);r<o.length;r++)n();this.addPresetEventListeners()}},{key:"toggleColorBoxes",value:function(t,e){var n,r=dt(document.getElementsByClassName("".concat(t,"-").concat(e)));try{for(r.s();!(n=r.n()).done;)n.value.style.display="flex"}catch(t){r.e(t)}finally{r.f()}var o,i=dt(document.getElementsByClassName("".concat(t,"-").concat(!e)));try{for(i.s();!(o=i.n()).done;)o.value.style.display="none"}catch(t){i.e(t)}finally{i.f()}}},{key:"toggleReflectionAmountBox",value:function(t){var e="polar"===t;document.getElementsByClassName("polar-reflection-true")[0].style.display=e?"flex":"none"}},{key:"addPresetEventListeners",value:function(){var t=this;document.querySelector("[name=color-brush-palette]").onchange=function(e){var n=ct[e.target.value];t.brush.brushColorGenerator=q.deserialize(n)},document.querySelector("[name=color-particle-palette]").onchange=function(e){var n=ct[e.target.value];t.brush.particleColorGenerator=q.deserialize(n)},document.querySelector("[name=brush-preset]").onchange=function(e){var n=ut[e.target.value];t.applyBrushPreset(n)}}},{key:"addSelectOptions",value:function(){for(var t=document.querySelector("[name=brush-style]"),e=0,n=Object.keys(G);e<n.length;e++){var r=n[e],o=document.createElement("option");o.value=r,o.innerHTML=r,t.appendChild(o)}for(var i=document.querySelector("[name=color-brush-palette]"),s=document.querySelector("[name=color-particle-palette]"),a=0,l=Object.keys(ct);a<l.length;a++){var u=l[a],c=document.createElement("option");c.value=u,c.innerHTML=u,i.appendChild(c);var h=document.createElement("option");h.value=u,h.innerHTML=u,s.appendChild(h)}for(var p=document.querySelector("[name=brush-preset]"),f=0,y=Object.keys(ut);f<y.length;f++){var d=y[f],v=document.createElement("option");v.value=d,v.innerHTML=d,p.appendChild(v)}}},{key:"applySettingsToBrush",value:function(t){this.brush.settings.movement=t["brush-style"],this.brush.settings.speed=t["brush-speed"],this.brush.settings.size=t["brush-size"],this.brush.settings.growth=t["brush-growth"],this.brush.settings.outline=t["brush-outline"],this.brush.settings.bounce=t["brush-bounce"],this.brush.settings.followMouse=t["brush-gravity-mouse"],this.brush.settings.brushColor=lt(t["color-brush"]),this.brush.settings.dynamicBrushColor=t["color-brush-dynamic"],this.brush.brushColorGenerator.speed=t["color-brush-dynamic-speed"],this.brush.brushColorGenerator.interval=t["color-brush-dynamic-interval"],this.brush.settings.useBrushColor=t["color-brush-apply"],this.brush.settings.dynamicParticleColor=t["color-particle-dynamic"],this.brush.particleColorGenerator.speed=t["color-particle-dynamic-speed"],this.brush.particleColorGenerator.interval=t["color-particle-dynamic-interval"],this.brush.settings.reflection.type=t["reflection-type"],this.brush.settings.reflection.amount=t["reflection-amount"]}},{key:"applySettingsToPainting",value:function(t){this.applySettingsToBrush(t),this.painting.settings.backgroundColor=lt(t["color-background"]),this.brush.settings.shape=t["performance-particle-quality"],this.brush.settings.lifespan=t["performance-particle-lifespan"],this.brush.settings.interpolateMouse=t["performance-interpolate-mouse"],this.brush.settings.interpolateParticles=t["performance-interpolate-particles"],this.painting.settings.dynamicallyRemoveParticles=t["performance-dynamic-particle-removal"]}},{key:"getBrushSettingsFromPainting",value:function(){return{"brush-style":this.brush.settings.movement,"brush-speed":this.brush.settings.speed,"brush-size":this.brush.settings.size,"brush-growth":this.brush.settings.growth,"brush-outline":this.brush.settings.outline,"brush-bounce":this.brush.settings.bounce,"brush-gravity-mouse":this.brush.settings.followMouse,"color-brush":at(this.brush.settings.brushColor),"color-brush-dynamic":this.brush.settings.dynamicBrushColor,"color-brush-dynamic-speed":this.brush.brushColorGenerator.speed,"color-brush-dynamic-interval":this.brush.brushColorGenerator.interval,"color-brush-apply":this.brush.settings.useBrushColor,"color-particle-dynamic":this.brush.settings.dynamicParticleColor,"color-particle-dynamic-speed":this.brush.particleColorGenerator.speed,"color-particle-dynamic-interval":this.brush.particleColorGenerator.interval,"reflection-type":this.brush.settings.reflection.type,"reflection-amount":this.brush.settings.reflection.amount}}},{key:"getSettingsFromPainting",value:function(){return ft(ft({},this.getBrushSettingsFromPainting()),{},{"color-background":at(this.painting.settings.backgroundColor),"performance-particle-quality":this.brush.settings.shape,"performance-particle-lifespan":this.brush.settings.lifespan,"performance-interpolate-mouse":this.brush.settings.interpolateMouse,"performance-interpolate-particles":this.brush.settings.interpolateParticles,"performance-dynamic-particle-removal":this.painting.settings.dynamicallyRemoveParticles})}},{key:"getBrushPresetJSON",value:function(){return JSON.stringify([this.brush.settings.movement,this.brush.settings.speed,this.brush.settings.size,this.brush.settings.growth,this.brush.settings.outline,this.brush.settings.bounce,this.brush.settings.followMouse,at(this.brush.settings.brushColor),this.brush.settings.dynamicBrushColor,this.brush.brushColorGenerator.speed,this.brush.brushColorGenerator.interval,this.brush.settings.useBrushColor,this.brush.settings.dynamicParticleColor,this.brush.particleColorGenerator.speed,this.brush.particleColorGenerator.interval,this.brush.settings.reflection.type,this.brush.settings.reflection.amount])}},{key:"applyBrushPreset",value:function(t){var e={"brush-style":t[0],"brush-speed":t[1],"brush-size":t[2],"brush-growth":t[3],"brush-outline":t[4],"brush-bounce":t[5],"brush-gravity-mouse":t[6],"color-brush":lt(t[7]),"color-brush-dynamic":t[8],"color-brush-dynamic-speed":t[9],"color-brush-dynamic-interval":t[10],"color-brush-apply":t[11],"color-particle-dynamic":t[12],"color-particle-dynamic-speed":t[13],"color-particle-dynamic-interval":t[14],"reflection-type":t[15],"reflection-amount":t[16],"color-brush-generator":void 0,"color-particle-generator":void 0};console.log(e),this.applySettingsToBrush(e),this.applySettingsToDOM(e)}},{key:"applySettingsToDOM",value:function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e],o=document.querySelector("[name=".concat(r,"]"));if(o)switch(o.type){case"checkbox":o.checked=t[r];break;case"color":o.value=at(t[r]);break;default:o.value=t[r]}}this.toggleColorBoxes("color-brush-dynamic",t["color-brush-dynamic"]),this.toggleColorBoxes("color-particle-dynamic",t["color-particle-dynamic"]),this.toggleReflectionAmountBox(t["reflection-amount"])}}])&&mt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const At=bt;var wt=document.getElementById("foreground-canvas"),xt=document.querySelector(".canvas-container");console.log("Creating painting...");var Ct=new st(wt,xt);console.log("Creating menu..."),new At(Ct),window.onresize=function(){Ct.resize()},Ct.init()})()})();
//# sourceMappingURL=main.bundle.js.map