(()=>{"use strict";var e={424:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(537),o=n.n(r),i=n(645),s=n.n(i),a=n(195),l=n(630),u=n(658),c=n(724),h=s()(o());h.i(a.Z),h.i(l.Z),h.i(u.Z),h.i(c.Z),h.push([e.id,':root {\r\n  --menu-background-color: #282942;\r\n  --menu-selected-color: #3e3f66;\r\n  --text-color: #eaeaea;\r\n\r\n  font-family: "Trebuchet MS", Arial, sans-serif;\r\n  font-size: 16px;\r\n}\r\n\r\nbody {\r\n  margin: 0px;\r\n  overflow: hidden;\r\n}\r\n\r\n\r\n\r\n',"",{version:3,sources:["webpack://./src/index.css"],names:[],mappings:"AAKA;EACE,gCAAgC;EAChC,8BAA8B;EAC9B,qBAAqB;;EAErB,8CAA8C;EAC9C,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,gBAAgB;AAClB",sourcesContent:["@import url('./styles/menu.css');\r\n@import url('./styles/canvas.css');\r\n@import url('./styles/debug.css');\r\n@import url('./styles/modal.css');\r\n\r\n:root {\r\n  --menu-background-color: #282942;\r\n  --menu-selected-color: #3e3f66;\r\n  --text-color: #eaeaea;\r\n\r\n  font-family: \"Trebuchet MS\", Arial, sans-serif;\r\n  font-size: 16px;\r\n}\r\n\r\nbody {\r\n  margin: 0px;\r\n  overflow: hidden;\r\n}\r\n\r\n\r\n\r\n"],sourceRoot:""}]);const p=h},630:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(537),o=n.n(r),i=n(645),s=n.n(i)()(o());s.push([e.id,".canvas-container {\r\n  position: relative;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  cursor: crosshair;\r\n}\r\n\r\n.canvas-container canvas {\r\n  position: absolute;\r\n  cursor: crosshair;\r\n}","",{version:3,sources:["webpack://./src/styles/canvas.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,iBAAiB;AACnB",sourcesContent:[".canvas-container {\r\n  position: relative;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  cursor: crosshair;\r\n}\r\n\r\n.canvas-container canvas {\r\n  position: absolute;\r\n  cursor: crosshair;\r\n}"],sourceRoot:""}]);const a=s},658:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(537),o=n.n(r),i=n(645),s=n.n(i)()(o());s.push([e.id,".debug-container {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 20px;\r\n  background-color: black;\r\n  color: white;\r\n  border: 2px solid white;\r\n  font-family: 'Lucida Console', monospace;\r\n  font-size: 14px;\r\n  padding: 8px;\r\n  user-select: none;\r\n  -moz-user-select: none;\r\n  -khtml-user-select: none;\r\n  -webkit-user-select: none;\r\n  -o-user-select: none;\r\n}","",{version:3,sources:["webpack://./src/styles/debug.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,YAAY;EACZ,UAAU;EACV,uBAAuB;EACvB,YAAY;EACZ,uBAAuB;EACvB,wCAAwC;EACxC,eAAe;EACf,YAAY;EACZ,iBAAiB;EACjB,sBAAsB;EACtB,wBAAwB;EACxB,yBAAyB;EACzB,oBAAoB;AACtB",sourcesContent:[".debug-container {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 20px;\r\n  background-color: black;\r\n  color: white;\r\n  border: 2px solid white;\r\n  font-family: 'Lucida Console', monospace;\r\n  font-size: 14px;\r\n  padding: 8px;\r\n  user-select: none;\r\n  -moz-user-select: none;\r\n  -khtml-user-select: none;\r\n  -webkit-user-select: none;\r\n  -o-user-select: none;\r\n}"],sourceRoot:""}]);const a=s},195:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(537),o=n.n(r),i=n(645),s=n.n(i)()(o());s.push([e.id,".menu-container {\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n  z-index: 3;\r\n  width: 100vw;\r\n  background-color: var(--menu-background-color);\r\n  color: var(--text-color);\r\n  box-shadow: 0px 5px 10px 0px rgb(14, 14, 14);\r\n}\r\n\r\n.menu-button-container {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap-reverse;\r\n}\r\n\r\n.menu-button-container > div {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.menu-icon-button-container {\r\n  margin-left: 10px;\r\n}\r\n\r\n.menu-nav-button-container {\r\n  margin-left: auto;\r\n}\r\n\r\n.menu-nav-button-container div {\r\n  padding: 8px 10px 5px 10px\r\n}\r\n\r\n.menu-button {\r\n  padding: 10px;\r\n  padding-top: 12px;\r\n  cursor: pointer;\r\n  background-color: var(--menu-background-color);\r\n  -webkit-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n}\r\n\r\n.menu-button.selected {\r\n  background-color: var(--menu-selected-color);\r\n}\r\n\r\n.menu-panel {\r\n  padding: 5px;\r\n  background-color: var(--menu-selected-color);\r\n  display: none;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  font-size: 14px;\r\n  min-height: 35px;\r\n}\r\n\r\n.menu-panel-divider {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  padding: 5px;\r\n  border-bottom: 2px solid var(--menu-background-color);\r\n  min-height: 35px;\r\n}\r\n\r\n.menu-panel-divider-heading {\r\n  width: 80px;\r\n  padding: 5px;\r\n}\r\n\r\n.menu-button:hover {\r\n  box-shadow: 0px 1px 0px 0px white;\r\n  background-color: var(--menu-selected-color);\r\n}\r\n\r\n.menu-item-container {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  border-left: 2px solid var(--menu-background-color);\r\n  padding: 3px 8px 3px 8px;\r\n}\r\n\r\n.menu-item-container div {\r\n  font-size: 16px;\r\n  padding: 5px 5px 5px 5px;\r\n}\r\n\r\n.color-brush-dynamic-false {\r\n  display: none;\r\n}\r\n\r\n.color-particle-dynamic-true {\r\n  display: none;\r\n}\r\n\r\n.polar-reflection-true {\r\n  display: none;\r\n}\r\n\r\n#resume-button {\r\n  display: none;\r\n}\r\n\r\ninput[type=number] {\r\n  width: 50px;\r\n}\r\n\r\nlabel {\r\n  padding-right: 4px;\r\n}\r\n\r\na {\r\n  text-decoration: none;\r\n  color: white;\r\n}","",{version:3,sources:["webpack://./src/styles/menu.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,UAAU;EACV,YAAY;EACZ,8CAA8C;EAC9C,wBAAwB;EACxB,4CAA4C;AAC9C;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,eAAe;AACjB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE;AACF;;AAEA;EACE,aAAa;EACb,iBAAiB;EACjB,eAAe;EACf,8CAA8C;EAC9C,yBAAyB;EACzB,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA;EACE,4CAA4C;AAC9C;;AAEA;EACE,YAAY;EACZ,4CAA4C;EAC5C,aAAa;EACb,mBAAmB;EACnB,eAAe;EACf,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,eAAe;EACf,mBAAmB;EACnB,YAAY;EACZ,qDAAqD;EACrD,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,iCAAiC;EACjC,4CAA4C;AAC9C;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,mDAAmD;EACnD,wBAAwB;AAC1B;;AAEA;EACE,eAAe;EACf,wBAAwB;AAC1B;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,qBAAqB;EACrB,YAAY;AACd",sourcesContent:[".menu-container {\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n  z-index: 3;\r\n  width: 100vw;\r\n  background-color: var(--menu-background-color);\r\n  color: var(--text-color);\r\n  box-shadow: 0px 5px 10px 0px rgb(14, 14, 14);\r\n}\r\n\r\n.menu-button-container {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap-reverse;\r\n}\r\n\r\n.menu-button-container > div {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.menu-icon-button-container {\r\n  margin-left: 10px;\r\n}\r\n\r\n.menu-nav-button-container {\r\n  margin-left: auto;\r\n}\r\n\r\n.menu-nav-button-container div {\r\n  padding: 8px 10px 5px 10px\r\n}\r\n\r\n.menu-button {\r\n  padding: 10px;\r\n  padding-top: 12px;\r\n  cursor: pointer;\r\n  background-color: var(--menu-background-color);\r\n  -webkit-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n}\r\n\r\n.menu-button.selected {\r\n  background-color: var(--menu-selected-color);\r\n}\r\n\r\n.menu-panel {\r\n  padding: 5px;\r\n  background-color: var(--menu-selected-color);\r\n  display: none;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  font-size: 14px;\r\n  min-height: 35px;\r\n}\r\n\r\n.menu-panel-divider {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  padding: 5px;\r\n  border-bottom: 2px solid var(--menu-background-color);\r\n  min-height: 35px;\r\n}\r\n\r\n.menu-panel-divider-heading {\r\n  width: 80px;\r\n  padding: 5px;\r\n}\r\n\r\n.menu-button:hover {\r\n  box-shadow: 0px 1px 0px 0px white;\r\n  background-color: var(--menu-selected-color);\r\n}\r\n\r\n.menu-item-container {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  border-left: 2px solid var(--menu-background-color);\r\n  padding: 3px 8px 3px 8px;\r\n}\r\n\r\n.menu-item-container div {\r\n  font-size: 16px;\r\n  padding: 5px 5px 5px 5px;\r\n}\r\n\r\n.color-brush-dynamic-false {\r\n  display: none;\r\n}\r\n\r\n.color-particle-dynamic-true {\r\n  display: none;\r\n}\r\n\r\n.polar-reflection-true {\r\n  display: none;\r\n}\r\n\r\n#resume-button {\r\n  display: none;\r\n}\r\n\r\ninput[type=number] {\r\n  width: 50px;\r\n}\r\n\r\nlabel {\r\n  padding-right: 4px;\r\n}\r\n\r\na {\r\n  text-decoration: none;\r\n  color: white;\r\n}"],sourceRoot:""}]);const a=s},724:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(537),o=n.n(r),i=n(645),s=n.n(i)()(o());s.push([e.id,".modal-align-container {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  width: 400px;\r\n  height: 100vh;\r\n  \r\n  z-index: 4;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  pointer-events: none;\r\n}\r\n\r\n.modal-container {\r\n  position: relative;\r\n  background-color: var(--menu-background-color);\r\n  color: var(--text-color);\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  pointer-events: auto;\r\n}\r\n\r\n.modal-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.modal-content h3 {\r\n  text-align: center;\r\n}\r\n\r\n.modal-content p {\r\n  padding: 0px;\r\n  margin: 0px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.close-modal-button {\r\n  position: absolute;\r\n  top: 5px;\r\n  right: 5px;\r\n  color: var(--text-color);\r\n  font-size: 18px;\r\n  padding: 5px 10px 5px 10px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.close-modal-button:hover {\r\n  background-color: var(--menu-selected-color);\r\n}\r\n\r\n.save-preset-container {\r\n  margin-top: 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.save-preset-container button {\r\n  margin-top: 15px;\r\n  width: 80px;\r\n  font-size: 16px;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n}\r\n\r\n.save-modal {\r\n  display: none;\r\n}\r\n","",{version:3,sources:["webpack://./src/styles/modal.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,OAAO;EACP,QAAQ;EACR,YAAY;EACZ,YAAY;EACZ,aAAa;;EAEb,UAAU;EACV,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,oBAAoB;AACtB;;AAEA;EACE,kBAAkB;EAClB,8CAA8C;EAC9C,wBAAwB;EACxB,aAAa;EACb,mBAAmB;EACnB,oBAAoB;AACtB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,YAAY;EACZ,WAAW;EACX,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,UAAU;EACV,wBAAwB;EACxB,eAAe;EACf,0BAA0B;EAC1B,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,4CAA4C;AAC9C;;AAEA;EACE,gBAAgB;EAChB,aAAa;EACb,sBAAsB;EACtB,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;EAChB,WAAW;EACX,eAAe;EACf,yCAAyC;AAC3C;;AAEA;EACE,aAAa;AACf",sourcesContent:[".modal-align-container {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  width: 400px;\r\n  height: 100vh;\r\n  \r\n  z-index: 4;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  pointer-events: none;\r\n}\r\n\r\n.modal-container {\r\n  position: relative;\r\n  background-color: var(--menu-background-color);\r\n  color: var(--text-color);\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  pointer-events: auto;\r\n}\r\n\r\n.modal-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.modal-content h3 {\r\n  text-align: center;\r\n}\r\n\r\n.modal-content p {\r\n  padding: 0px;\r\n  margin: 0px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.close-modal-button {\r\n  position: absolute;\r\n  top: 5px;\r\n  right: 5px;\r\n  color: var(--text-color);\r\n  font-size: 18px;\r\n  padding: 5px 10px 5px 10px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.close-modal-button:hover {\r\n  background-color: var(--menu-selected-color);\r\n}\r\n\r\n.save-preset-container {\r\n  margin-top: 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.save-preset-container button {\r\n  margin-top: 15px;\r\n  width: 80px;\r\n  font-size: 16px;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n}\r\n\r\n.save-modal {\r\n  display: none;\r\n}\r\n"],sourceRoot:""}]);const a=s},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&s[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[t].concat([i]).join("\n")}return[t].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},s=[],a=0;a<e.length;a++){var l=e[a],u=r.base?l[0]+r.base:l[0],c=i[u]||0,h="".concat(u," ").concat(c);i[u]=c+1;var p=n(h),d={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(d);else{var f=o(d,r);r.byIndex=a,t.splice(a,0,{identifier:h,updater:f,references:1})}s.push(h)}return s}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var a=n(i[s]);t[a].references--}for(var l=r(e,o),u=0;u<i.length;u++){var c=n(i[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=l}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{var e=n(379),t=n.n(e),r=n(795),o=n.n(r),i=n(569),s=n.n(i),a=n(565),l=n.n(a),u=n(216),c=n.n(u),h=n(589),p=n.n(h),d=n(424),f={};function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}f.styleTagTransform=p(),f.setAttributes=l(),f.insert=s().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=c(),t()(d.Z,f),d.Z&&d.Z.locals&&d.Z.locals;const v=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n}var t,n;return t=e,(n=[{key:"distanceFromOrigin",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"distanceFrom",value:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}},{key:"addTo",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"interpolatePointsBetween",value:function(t,n){for(var r=[],o=(t.x-this.x)/(n+1),i=(t.y-this.y)/(n+1),s=0;s<n;s+=1){var a=o*(s+1)+this.x,l=i*(s+1)+this.y;r.push(new e(a,l))}return r}},{key:"floor",value:function(){this.x=Math.floor(this.x),this.y=Math.floor(this.y)}},{key:"toString",value:function(){return"{x: ".concat(this.x,", y: ").concat(this.y,"}")}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===g(o)?o:String(o)),r)}var o}const A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.position=new v(0,0),this.pressed=!1,this.previous={position:new v(0,0),pressed:!1},this.addEventHandlers()}var t,n;return t=e,(n=[{key:"addEventHandlers",value:function(){var e=this;this.element.addEventListener("mousemove",(function(t){e.position.x=t.offsetX,e.position.y=t.offsetY})),this.element.addEventListener("mousedown",(function(t){0===t.button&&(e.pressed=!0)})),this.element.addEventListener("mouseup",(function(t){e.pressed=!1})),this.element.addEventListener("mouseleave",(function(t){e.pressed=!1}))}},{key:"updatePreviousPosition",value:function(){this.previous.position.x=this.position.x,this.previous.position.y=this.position.y}},{key:"updatePreviousPressed",value:function(){this.previous.pressed=this.pressed}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===x(o)?o:String(o)),r)}var o}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t,this.context=t.getContext("2d"),this.width=t.width,this.height=t.height,this.offset=new v(Math.floor(this.width/2),Math.floor(this.height/2)),this.mouse=new A(t)}var t,n;return t=e,n=[{key:"setColor",value:function(e){this.context.fillStyle=e.toHSLString(),this.context.strokeStyle=e.toHSLString()}},{key:"setFillColor",value:function(e){this.context.fillStyle=e.toHSLString()}},{key:"setStrokeColor",value:function(e){this.context.strokeStyle=e.toHSLString()}},{key:"dimensions",value:function(){return{width:this.width,height:this.height}}},{key:"drawSquare",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.drawRect(e,t,n,n,r)}},{key:"drawRect",value:function(e,t,n,r,o){var i=Math.floor(e+this.offset.x),s=Math.floor(t+this.offset.y);o?this.context.fillRect(i-Math.floor(n/2),s-Math.floor(r/2),Math.floor(n),Math.floor(r)):this.context.strokeRect(i-Math.floor(n/2),s-Math.floor(r/2),Math.floor(n),Math.floor(r))}},{key:"drawCircle",value:function(e,t,n,r){var o=Math.floor(e+this.offset.x),i=Math.floor(t+this.offset.y);if(n<=2)this.context.fillRect(o,i,n,n);else{var s=Math.floor(n/2);this.context.beginPath(),this.context.arc(o,i,s,0,2*Math.PI),this.context.stroke(),r&&this.context.fill()}}},{key:"drawShape",value:function(e,t,n,r,o){"circle"!==e?this.drawSquare(t,n,r,o):this.drawCircle(t,n,r,o)}},{key:"drawLine",value:function(e,t,n,r,o){var i=Math.floor(e+this.offset.x),s=Math.floor(t+this.offset.y),a=Math.floor(n+this.offset.x),l=Math.floor(r+this.offset.y);o>1&&(o+=1),this.context.lineWidth=Math.floor(o),this.context.lineCap="round",this.context.beginPath(),this.context.moveTo(i,s),this.context.lineTo(a,l),this.context.stroke(),this.context.lineWidth=1}},{key:"clear",value:function(){this.context.clearRect(0,0,this.width,this.height)}},{key:"resize",value:function(e,t){var n=Math.round((e-this.width)/2),r=Math.round((t-this.height)/2),o=document.createElement("canvas");o.width=this.width,o.height=this.height,o.getContext("2d").drawImage(this.canvas,0,0),this.width=e,this.height=t,this.offset=new v(Math.floor(e/2),Math.floor(t/2)),this.canvas.width=e,this.canvas.height=t,this.context=this.canvas.getContext("2d"),this.context.clearRect(0,0,e,t),this.context.drawImage(o,n,r)}},{key:"mousePosition",value:function(){return new v(this.mouse.position.x-this.offset.x,this.mouse.position.y-this.offset.y)}},{key:"mouseX",value:function(){return this.mouse.position.x-this.offset.x}},{key:"mouseY",value:function(){return this.mouse.position.y-this.offset.y}},{key:"mousePreviousPosition",value:function(){return new v(this.mouse.previous.position.x-this.offset.x,this.mouse.previous.position.y-this.offset.y)}},{key:"mousePreviousX",value:function(){return this.mouse.previous.position.x-this.offset.x}},{key:"mousePreviousY",value:function(){return this.mouse.previous.position.y-this.offset.y}},{key:"mousePressed",value:function(){return this.mouse.pressed}},{key:"mousePreviousPressed",value:function(){return this.mouse.previous.pressed}},{key:"mouseMoveDistance",value:function(){return this.mousePosition().distanceFrom(this.mousePreviousPosition())}},{key:"updateMousePosition",value:function(){this.mouse.updatePreviousPosition()}},{key:"updateMousePressed",value:function(){this.mouse.updatePreviousPressed()}}],n&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const E=w;function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===k(o)?o:String(o)),r)}var o}const P=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.block=!1,this.addEventListeners(t)}var t,n;return t=e,(n=[{key:"addEventListeners",value:function(e){var t=this;document.documentElement.addEventListener("keyup",(function(n){var r=n.key.toLowerCase();console.log("Key Pressed: <".concat(r,">")),t.block||-1===Object.keys(e).indexOf(r)||e[r]()}))}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===S(o)?o:String(o)),r)}var o}const j=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hue=void 0!==t?t:329,this.saturation=void 0!==n?n:100,this.lightness=void 0!==r?r:50,console.assert(this.hue>=0&&this.hue<=360),console.assert(this.saturation>=0&&this.saturation<=100),console.assert(this.lightness>=0&&this.lightness<=100)}var t,n,r;return t=e,n=[{key:"equals",value:function(e){return this.hue===e.hue&&this.saturation===e.saturation&&this.lightness===e.lightness}},{key:"moveTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Math.abs(e.hue-this.hue)<180?this.hue<e.hue?this.hue=Math.min(this.hue+t,e.hue):this.hue=Math.max(this.hue-t,e.hue):this.hue<e.hue?this.hue-=t:this.hue+=t,this.saturation<e.saturation?this.saturation=Math.min(this.saturation+t,e.saturation):this.saturation=Math.max(this.saturation-t,e.saturation),this.lightness<e.lightness?this.lightness=Math.min(this.lightness+t,e.lightness):this.lightness=Math.max(this.lightness-t,e.lightness),this.applyHSLBounds()}},{key:"applyHSLBounds",value:function(){this.hue=(this.hue+360)%360,this.saturation=Math.min(this.saturation,100),this.saturation=Math.max(this.saturation,0),this.lightness=Math.min(this.lightness,100),this.lightness=Math.max(this.lightness,0)}},{key:"copy",value:function(){return new e(this.hue,this.saturation,this.lightness)}},{key:"toHSLString",value:function(){var e=Math.floor(this.hue),t=Math.floor(this.saturation),n=Math.floor(this.lightness);return"hsl(".concat(e,", ").concat(t,"%, ").concat(n,"%)")}}],r=[{key:"deserialize",value:function(t){return new e(t.hue,t.saturation,t.lightness)}}],n&&M(t.prototype,n),r&&M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();var O=function(e,t){return console.assert(e<=t),Math.floor(Math.random()*(t-e+1)+e)},T=function(e,t){return console.assert(e<=t),Math.random()*(t-e)+e};function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q(r.key),r)}}function L(e,t,n){return(t=q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){var t=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===D(t)?t:String(t)}const R=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),L(this,"applyDynamics",{static:function(){},cycleHue:function(){n.color.hue-=n.speed,n.color.hue<0&&(n.color.hue=360)},cycleSaturation:function(){n.color.saturation+=n.speed*n.cycleDirection.saturation,n.color.saturation>100&&(n.color.saturation=100,n.cycleDirection.saturation=-1),n.color.saturation<0&&(n.color.saturation=0,n.cycleDirection.saturation=1)},cycleLightness:function(){n.color.lightness+=n.speed*n.cycleDirection.lightness,n.color.lightness>100&&(n.color.lightness=100,n.cycleDirection.lightness=-1),n.color.lightness<0&&(n.color.lightness=0,n.cycleDirection.lightness=1)},path:function(){if(n.path.colors.length>1){var e=(n.path.current+1)%n.path.colors.length,t=n.path.colors[e];n.color.moveTo(t,n.speed),n.color.equals(t)&&(n.path.current=(n.path.current+1)%n.path.colors.length)}},random:function(){n.color.hue=O(0,359),n.color.lightness=50,n.color.saturation=O(75,100)}}),this.color=void 0!==t?t:new j,this.speed=1,this.interval=1,this.style="cycleHue",this.cycleDirection={hue:1,saturation:1,lightness:1},this.path={current:0,colors:[this.color]},this.tempColor=this.color.copy(),this.updates=0}var t,n,r;return t=e,r=[{key:"deserialize",value:function(t){var n=new j(t.color.hue,t.color.saturation,t.color.lightness),r=new e(n);return r.style=t.style,r.speed=t.speed,r.interval=t.interval,r.path=t.path,r.tempColor=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n),r}},{key:"decompress",value:function(t){var n=new e(new j(t[0],t[1],t[2]));return n.style=t[3],n.speed=t[4],n.interval=t[5],n.path=t[6],n}}],(n=[{key:"newColor",value:function(){return this.update(),this.updates%this.interval!=0?this.tempColor:(this.tempColor=this.color.copy(),this.color)}},{key:"update",value:function(){this.applyDynamics[this.style](),this.updates+=1}},{key:"copy",value:function(){var t=new e(this.color.copy());return t.speed=this.speed,t.interval=this.interval,t.style=this.style,t.path=this.path,t}},{key:"serialize",value:function(){return JSON.stringify({color:this.color,speed:this.speed,interval:this.interval,path:this.path,style:this.style})}},{key:"compressToArray",value:function(){return[this.color.hue,this.color.saturation,this.color.lightness,this.style,this.speed,this.interval,this.path]}}])&&I(t.prototype,n),r&&I(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),H={creep:function(e,t){var n=4*t;e.velocity.x=T(-1*n,n),e.velocity.y=T(-1*n,n),e.applyVelocity()},spaghetti:function(e,t){var n=t/4;e.velocity.x+=T(-1*n,n),e.velocity.y+=T(-1*n,n),e.applyVelocity()},crystal:function(e,t){var n=2*t;if(0===e.timer){var r=O(0,1);e.velocity.x=r?n:-1*n,r=O(0,1),e.velocity.y=r?n:-1*n,e.timer=O(2,5)}e.applyVelocity(),e.timer-=1},tesseract:function(e,t){var n=1*t;0===e.timer&&(e.velocity.x=O(-1,1)*n,e.velocity.y=O(-1,1)*n,e.timer=O(80,90)),e.applyVelocity(),e.timer-=1},drip:function(e,t){var n=5*t;e.velocity.x=0,e.velocity.y*=.95,Math.abs(e.velocity.y<.05)&&(e.velocity.y=T(1,n)),e.applyVelocity()},fountain:function(e,t){var n=3*t;e.age<=1&&(e.velocity.x=T(-1*n,n),e.velocity.y=T(-1*n,n)),e.velocity.y+=n/20,e.applyVelocity()},turntable:function(e,t){var n=t,r=2*Math.PI*n/360;e.position.x=e.position.x*Math.cos(r)-e.position.y*Math.sin(r),e.position.y=e.position.x*Math.sin(r)+e.position.y*Math.cos(r),e.applyVelocity()},firework:function(e,t){var n=10*t;if(0===e.age){var r=T(0,2*Math.PI);e.velocity.x=Math.cos(r)*n,e.velocity.y=Math.sin(r)*n}e.velocity.x*=.95,e.velocity.y*=.95,e.applyVelocity()},still:function(e,t){}};function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==G(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===G(o)?o:String(o)),r)}var o}const Z=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.position=new v(t,n),this.prevPosition=new v(t,n),this.velocity=new v(0,0),this.color=new j,this.colorGenerator=null,this.size=5,this.age=0,this.timer=0}var t,n;return t=e,(n=[{key:"applyMovementDynamic",value:function(e,t,n){H[e](this,t,n)}},{key:"applyVelocity",value:function(){this.position.x+=this.velocity.x,this.position.y+=this.velocity.y}},{key:"updatePrevPosition",value:function(){this.prevPosition.x=this.position.x,this.prevPosition.y=this.position.y}},{key:"hasMoved",value:function(){return!this.position.equals(this.prevPosition)}}])&&Y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var N=2*Math.PI,U={none:function(e){return[]},vertical:function(e){return[new v(-1*e.x,e.y)]},horizontal:function(e){return[new v(e.x,-1*e.y)]},diagonal:function(e){return[new v(-1*e.x,-1*e.y)]},polar:function(e,t){if(2===t)return[new v(-1*e.x,-1*e.y)];for(var n=N/t,r=[],o=n;o<N;o+=n){var i=e.x*Math.cos(o)-e.y*Math.sin(o),s=e.x*Math.sin(o)+e.y*Math.cos(o);r.push(new v(Math.floor(i),Math.floor(s)))}return r}};const V=function(e,t){return U[t.type](e,t.amount)};function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function W(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===F(o)?o:String(o)),r)}var o}const Q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.grid=t,this.particles=[],this.settings={pauseMovement:!1,size:4,MAX_SIZE:200,growth:-.02,shape:"circle",outline:!1,speed:1,movement:"creep",bounce:!1,followMouse:!1,brushColor:new j(327,100,50),dynamicBrushColor:!0,useBrushColor:!1,dynamicParticleColor:!1,reflection:{type:"none",amount:3},lifespan:240,interpolateMouse:!0,interpolateParticles:!0},this.brushColorGenerator=this.initBrushColorGenerator(),this.particleColorGenerator=this.initParticleColorGenerator(),this.updates=0}var t,n;return t=e,(n=[{key:"initBrushColorGenerator",value:function(){var e=new R(this.settings.brushColor.copy());return e.style="cycleHue",e.speed=1,e.interval=1,e}},{key:"initParticleColorGenerator",value:function(){var e=this.brushColorGenerator.copy();return e.speed=2,e}},{key:"updateAndDraw",value:function(){this.updateBrushColor(),this.addNewParticles(),this.drawMouseInterpolation(),this.updateAndDrawParticles(),this.updates+=1}},{key:"updateBrushColor",value:function(){this.settings.dynamicBrushColor&&this.grid.mousePressed()&&(this.settings.brushColor=this.brushColorGenerator.newColor(),this.grid.setColor(this.settings.brushColor))}},{key:"addNewParticles",value:function(){this.grid.mousePressed()&&(this.addParticle(this.grid.mousePosition()),this.shouldInterpolateMouse()&&this.addParticleMouseInterpolations())}},{key:"shouldInterpolateMouse",value:function(){return this.settings.interpolateMouse&&this.grid.mousePressed()&&this.grid.mousePreviousPressed()}},{key:"addParticle",value:function(e){var t=new Z(e.x,e.y);t.color=this.settings.brushColor.copy(),t.size=this.settings.size,this.settings.dynamicParticleColor&&(t.colorGenerator=this.createParticleColorGenerator()),this.particles.push(t)}},{key:"createParticleColorGenerator",value:function(){var e=this.particleColorGenerator.copy();return e.color=this.brushColorGenerator.color.copy(),e}},{key:"addParticleMouseInterpolations",value:function(){var e=this.grid.mouseMoveDistance(),t=Math.floor(e/this.settings.size)+1;this.settings.size<3&&(t=Math.floor(t/2));var n,r=W(this.grid.mousePosition().interpolatePointsBetween(this.grid.mousePreviousPosition(),t));try{for(r.s();!(n=r.n()).done;){var o=n.value;this.addParticle(o)}}catch(e){r.e(e)}finally{r.f()}}},{key:"drawMouseInterpolation",value:function(){this.shouldInterpolateMouse()&&!this.settings.outline&&(this.grid.drawLine(this.grid.mouseX(),this.grid.mouseY(),this.grid.mousePreviousX(),this.grid.mousePreviousY(),this.settings.size),this.shouldReflectionBeDrawn()&&this.drawMouseInterpolationReflections())}},{key:"shouldReflectionBeDrawn",value:function(){return"none"!==this.settings.reflection.type}},{key:"drawMouseInterpolationReflections",value:function(){if(this.shouldInterpolateMouse())for(var e=V(this.grid.mousePosition(),this.settings.reflection),t=V(this.grid.mousePreviousPosition(),this.settings.reflection),n=0;n<e.length;n+=1){var r=e[n],o=t[n];this.grid.drawLine(r.x,r.y,o.x,o.y,this.settings.size)}}},{key:"updateAndDrawParticles",value:function(){var e,t=W(this.particles);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.updateParticle(n),this.drawParticle(n)}}catch(e){t.e(e)}finally{t.f()}this.removeDeadParticles()}},{key:"updateParticle",value:function(e){this.settings.pauseMovement||(e.updatePrevPosition(),e.applyMovementDynamic(this.settings.movement,this.settings.speed),this.settings.bounce&&this.bounceParticle(e),this.settings.followMouse&&this.driftToMouse(e),e.size+=this.settings.growth,e.size=Math.min(e.size,this.settings.MAX_SIZE),e.age+=1,this.senesceInvalidParticle(e))}},{key:"bounceParticle",value:function(e){var t=this.grid.width/2,n=this.grid.height/2,r=(e.size,-.9);e.position.x>t&&(e.position.x=t,e.velocity.x*=r),e.position.x<-1*t&&(e.position.x=-1*t,e.velocity.x*=r),e.position.y>n&&(e.position.y=n,e.velocity.y*=r),e.position.y<-1*n&&(e.position.y=-1*n,e.velocity.y*=r)}},{key:"driftToMouse",value:function(e){var t=.001*this.settings.speed,n=4*(this.grid.mousePosition().x-e.position.x),r=4*(this.grid.mousePosition().y-e.position.y);e.position.x+=t*n,e.position.y+=t*r}},{key:"senesceInvalidParticle",value:function(e){(e.size<=0||Math.abs(e.position.x)>this.grid.width||Math.abs(e.position.y)>this.grid.height)&&(e.age=this.settings.lifespan)}},{key:"drawParticle",value:function(e){this.settings.useBrushColor||this.applyParticleColorToGrid(e),this.grid.drawShape(this.settings.shape,e.position.x,e.position.y,e.size,!this.settings.outline),this.drawParticleMovementInterpolation(e),this.shouldReflectionBeDrawn()&&this.drawParticleReflections(e)}},{key:"applyParticleColorToGrid",value:function(e){this.settings.dynamicParticleColor&&e.colorGenerator&&(e.color=e.colorGenerator.newColor()),this.grid.setColor(e.color)}},{key:"shouldInterpolateParticles",value:function(e){return this.settings.interpolateParticles&&!this.settings.outline&&e.hasMoved()}},{key:"drawParticleMovementInterpolation",value:function(e){this.shouldInterpolateParticles(e)&&this.grid.drawLine(e.prevPosition.x,e.prevPosition.y,e.position.x,e.position.y,e.size)}},{key:"drawParticleReflections",value:function(e){var t=V(e.position,this.settings.reflection),n=null;this.shouldInterpolateParticles(e)&&(n=V(e.prevPosition,this.settings.reflection));for(var r=0;r<t.length;r+=1){var o=t[r];if(this.drawParticleCopy(e,o),n){var i=n[r];this.grid.drawLine(i.x,i.y,o.x,o.y,e.size)}}}},{key:"drawParticleCopy",value:function(e,t){this.grid.drawShape(this.settings.shape,t.x,t.y,e.size,!this.settings.outline)}},{key:"removeDeadParticles",value:function(){if(this.particles.length>0){var e,t=0,n=W(this.particles);try{for(n.s();!((e=n.n()).done||e.value.age<this.settings.lifespan);)t+=1}catch(e){n.e(e)}finally{n.f()}this.particles.splice(0,t)}}},{key:"removeParticles",value:function(e){this.particles.splice(0,e)}}])&&J(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}const $=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.start=Date.now(),this.currentDelta=0,this.sampleSize=t,this.sampleDeltas=[],this.updates=0}var t,n;return t=e,(n=[{key:"update",value:function(){var e=Date.now();this.currentDelta=e-this.start,this.start=e,this.sampleDeltas[this.updates%this.sampleSize]=this.currentDelta,this.updates+=1}},{key:"averageDelta",value:function(){return this.sampleDeltas.reduce((function(e,t){return e+t}),0)/this.sampleSize}}])&&K(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==ee(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===ee(o)?o:String(o)),r)}var o}const ne=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isVisible=!1,this.debugElement=document.querySelector(".debug-container"),this.debugElement.style.display=this.isVisible?"static":"none",console.assert(null!==this.debugElement)}var t,n;return t=e,(n=[{key:"update",value:function(e){if(this.isVisible){for(var t="",n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];t+='<div class="dubug-info">'.concat(o,": ").concat(e[o],"</div>")}this.debugElement.innerHTML=t}}},{key:"show",value:function(){this.isVisible=!0,this.debugElement.style.display="block"}},{key:"hide",value:function(){this.isVisible=!1,this.debugElement.style.display="none"}},{key:"toggle",value:function(){return this.isVisible?this.hide():this.show()}}])&&te(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==re(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===re(o)?o:String(o)),r)}var o}var ie=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.grid=new E(t),this.backgroundElement=n,this.brush=new Q(this.grid),this.debugView=new ne,this.debugSampleRate=2,this.frameTimer=new $(10),this.lastUpdate=0,this.updateTimer=new $(10),this.targetUPS=30,this.targetDelta=1e3/this.targetUPS,this.updates=0,this.settings={backgroundColor:new j(249,32,8),dynamicallyRemoveParticles:!1},this.keys=new P({})}var t,n;return t=e,(n=[{key:"init",value:function(){this.resize(),this.updateAndRender()}},{key:"updateAndRender",value:function(){var e=this;window.requestAnimationFrame((function(){return e.updateAndRender()})),this.frameTimer.update(),this.grid.updateMousePressed(),this.frameTimer.start-this.lastUpdate>this.targetDelta&&(this.lastUpdate=Date.now(),this.updateTimer.update(),this.updateBackgroundColor(),this.trimPaintbrushForPerformance(),this.brush.updateAndDraw(),this.grid.updateMousePosition(),this.updates%this.debugSampleRate==0&&this.updateDebugDisplay(),this.updates+=1)}},{key:"trimPaintbrushForPerformance",value:function(){if(this.settings.dynamicallyRemoveParticles){var e=this.updateTimer.averageDelta()-this.targetDelta;if(e>15){var t=Math.floor(10*e+20);console.log("Removing ".concat(t," particles impacting performance")),this.brush.particles.splice(0,t)}}}},{key:"updateBackgroundColor",value:function(){this.backgroundElement.style.backgroundColor=this.settings.backgroundColor.toHSLString()}},{key:"updateDebugDisplay",value:function(){this.debugView.update({FPS:Math.floor(1e3/this.frameTimer.averageDelta()),UPS:Math.floor(1e3/this.updateTimer.averageDelta()),"target time":Math.floor(this.targetDelta),"update time":this.updateTimer.averageDelta(),updates:this.brush.updates,paused:this.brush.settings.pauseMovement,dimensions:"".concat(this.grid.width," x ").concat(this.grid.height),"mouse pos":this.grid.mousePosition(),"mouse down":this.grid.mousePressed(),particles:this.brush.particles.length,"brush color":this.brush.settings.brushColor.toHSLString()})}},{key:"resize",value:function(){var e=document.body.clientWidth,t=document.body.clientHeight;this.backgroundElement.width=e,this.backgroundElement.height=t,this.grid.resize(e,t)}},{key:"clear",value:function(){this.grid.clear(),this.brush.particles=[]}}])&&oe(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const se=ie,ae=JSON.parse('{"brownian fungus":["creep",1,4,-0.02,false,false,false,"#ff008c",true,1,1,false,false,2,1,"none",3],"the three fates":["still",1.5,10,2,false,false,false,"#5900ff",true,3,1,false,true,1,1,"polar",3],"anemone bloom":["spaghetti",0.5,10,0,false,false,true,"#002aff",true,1,1,false,true,1,1,"none",3],"mind, drips":["drip",1,6,0,false,false,false,"#00eeff",true,1,1,false,false,2,1,"horizontal",3],"an awesome wave":["fountain",1,4,1,false,true,false,"#ff008c",true,1,1,false,true,2,1,"none",3],"prismatic core":["tesseract",1,1,0,false,false,false,"#00ff77",true,1,1,false,false,2,1,"none",3],"billiard table":["firework",5,10,0,false,true,false,"#ffaa00",true,1,1,false,false,2,1,"none",3]}'),le=JSON.parse('{"rainbow":{"color":{"hue":327,"saturation":100,"lightness":50},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":327,"saturation":100,"lightness":50}]},"style":"cycleHue"},"chaos":{"color":{"hue":194,"saturation":100,"lightness":50},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":194,"saturation":100,"lightness":50}]},"style":"random"},"nautical":{"color":{"hue":250,"saturation":100,"lightness":50},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":250,"saturation":100,"lightness":50},{"hue":183,"saturation":100,"lightness":58}]},"style":"path"},"aflame":{"color":{"hue":0,"saturation":100,"lightness":50},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":0,"saturation":100,"lightness":50},{"hue":56,"saturation":100,"lightness":50}]},"style":"path"},"tropical":{"color":{"hue":200,"saturation":100,"lightness":50},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":200,"saturation":100,"lightness":50},{"hue":71,"saturation":100,"lightness":50}]},"style":"path"},"abyss":{"color":{"hue":270,"saturation":100,"lightness":31},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":270,"saturation":100,"lightness":31},{"hue":232,"saturation":100,"lightness":28},{"hue":270,"saturation":100,"lightness":0}]},"style":"path"},"spring":{"color":{"hue":151,"saturation":100,"lightness":70},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":151,"saturation":100,"lightness":70},{"hue":302,"saturation":100,"lightness":79},{"hue":191,"saturation":100,"lightness":72},{"hue":55,"saturation":100,"lightness":79}]},"style":"path"},"summer":{"color":{"hue":133,"saturation":100,"lightness":40},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":133,"saturation":100,"lightness":40},{"hue":179,"saturation":100,"lightness":50},{"hue":55,"saturation":100,"lightness":58},{"hue":4,"saturation":100,"lightness":60}]},"style":"path"},"winter":{"color":{"hue":187,"saturation":100,"lightness":100},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":187,"saturation":100,"lightness":100},{"hue":187,"saturation":100,"lightness":50},{"hue":261,"saturation":100,"lightness":81},{"hue":261,"saturation":0,"lightness":81}]},"style":"path"},"autumn":{"color":{"hue":59,"saturation":100,"lightness":50},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":59,"saturation":100,"lightness":50},{"hue":21,"saturation":100,"lightness":58},{"hue":84,"saturation":100,"lightness":57}]},"style":"path"},"primaries":{"color":{"hue":60,"saturation":100,"lightness":50},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":60,"saturation":100,"lightness":50},{"hue":0,"saturation":100,"lightness":50},{"hue":240,"saturation":100,"lightness":50}]},"style":"path"},"grayscale":{"color":{"hue":0,"saturation":0,"lightness":100},"speed":1,"interval":1,"path":{"current":0,"colors":[{"hue":0,"saturation":0,"lightness":100},{"hue":0,"saturation":0,"lightness":0}]},"style":"path"},"vaporwave":{"color":{"hue":179,"saturation":100,"lightness":74},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":179,"saturation":100,"lightness":74},{"hue":312,"saturation":100,"lightness":83}]},"style":"path"},"tokyo":{"color":{"hue":318,"saturation":100,"lightness":50},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":318,"saturation":100,"lightness":50},{"hue":258,"saturation":100,"lightness":50},{"hue":200,"saturation":40,"lightness":33}]},"style":"path"},"western":{"color":{"hue":5,"saturation":47,"lightness":39},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":5,"saturation":47,"lightness":39},{"hue":41,"saturation":64,"lightness":59},{"hue":50,"saturation":90,"lightness":61}]},"style":"path"},"ol\' glory":{"color":{"hue":0,"saturation":100,"lightness":50},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":0,"saturation":100,"lightness":50},{"hue":320,"saturation":100,"lightness":100},{"hue":280,"saturation":100,"lightness":100},{"hue":237,"saturation":100,"lightness":50},{"hue":280,"saturation":100,"lightness":100},{"hue":320,"saturation":100,"lightness":100}]},"style":"path"},"mad max":{"color":{"hue":35,"saturation":100,"lightness":50},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":35,"saturation":100,"lightness":50},{"hue":120,"saturation":0,"lightness":25},{"hue":211,"saturation":100,"lightness":50},{"hue":120,"saturation":0,"lightness":25}]},"style":"path"},"minimalist":{"color":{"hue":53,"saturation":38,"lightness":70},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":53,"saturation":38,"lightness":70},{"hue":53,"saturation":38,"lightness":100}]},"style":"path"},"toad":{"color":{"hue":41,"saturation":100,"lightness":17},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":41,"saturation":100,"lightness":17},{"hue":121,"saturation":100,"lightness":32}]},"style":"path"},"frog":{"color":{"hue":155,"saturation":100,"lightness":50},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":155,"saturation":100,"lightness":50},{"hue":108,"saturation":100,"lightness":80},{"hue":85,"saturation":100,"lightness":63}]},"style":"path"},"dog vision":{"color":{"hue":238,"saturation":32,"lightness":67},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":238,"saturation":32,"lightness":67},{"hue":65,"saturation":32,"lightness":67},{"hue":65,"saturation":94,"lightness":63},{"hue":239,"saturation":32,"lightness":67},{"hue":239,"saturation":80,"lightness":55}]},"style":"path"},"bee sting":{"color":{"hue":61,"saturation":100,"lightness":50},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":61,"saturation":100,"lightness":50},{"hue":61,"saturation":100,"lightness":0},{"hue":61,"saturation":100,"lightness":50},{"hue":61,"saturation":100,"lightness":0},{"hue":61,"saturation":100,"lightness":50},{"hue":61,"saturation":100,"lightness":0},{"hue":0,"saturation":100,"lightness":50}]},"style":"path"},"hank hill":{"color":{"hue":19,"saturation":59,"lightness":70},"speed":3,"interval":1,"path":{"current":0,"colors":[{"hue":19,"saturation":59,"lightness":70},{"hue":205,"saturation":0,"lightness":90},{"hue":205,"saturation":75,"lightness":72},{"hue":24,"saturation":21,"lightness":28}]},"style":"path"}}');var ue=function(e){var t=e.hue,n=e.saturation,r=e.lightness;n/=100,r/=100;var o=(1-Math.abs(2*r-1))*n,i=o*(1-Math.abs(t/60%2-1)),s=r-o/2,a=0,l=0,u=0;return 0<=t&&t<60?(a=o,l=i,u=0):60<=t&&t<120?(a=i,l=o,u=0):120<=t&&t<180?(a=0,l=o,u=i):180<=t&&t<240?(a=0,l=i,u=o):240<=t&&t<300?(a=i,l=0,u=o):300<=t&&t<360&&(a=o,l=0,u=i),a=Math.round(255*(a+s)).toString(16),l=Math.round(255*(l+s)).toString(16),u=Math.round(255*(u+s)).toString(16),1==a.length&&(a="0"+a),1==l.length&&(l="0"+l),1==u.length&&(u="0"+u),"#"+a+l+u},ce=function(e){var t=e,n=0,r=0,o=0;4==t.length?(n="0x"+t[1]+t[1],r="0x"+t[2]+t[2],o="0x"+t[3]+t[3]):7==t.length&&(n="0x"+t[1]+t[2],r="0x"+t[3]+t[4],o="0x"+t[5]+t[6]),n/=255,r/=255,o/=255;var i=Math.min(n,r,o),s=Math.max(n,r,o),a=s-i,l=0,u=0,c=0;return l=0==a?0:s==n?(r-o)/a%6:s==r?(o-n)/a+2:(n-r)/a+4,(l=Math.round(60*l))<0&&(l+=360),c=(s+i)/2,u=+(100*(u=0==a?0:a/(1-Math.abs(2*c-1)))).toFixed(1),c=+(100*c).toFixed(1),u=Math.round(u),c=Math.round(c),new j(l,u,c)};function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return(t=ge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ge(r.key),r)}}function ge(e){var t=function(e,t){if("object"!==he(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==he(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===he(t)?t:String(t)}var be=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.paintingModel=t,this.brush=t.brush,this.brushPresets=ae,this.userBrushPresets=this.getUserPresets(),this.initializeMenu(),this.applyDefaultPreset(),this.addAllEventHandlers(),this.keys=new P({" ":function(){return n.handlePause()},d:function(){return n.paintingModel.debugView.toggle()},backspace:function(){return n.paintingModel.clear()},delete:function(){return n.paintingModel.clear()},escape:function(){return n.deselectAllPanels()},r:function(){return n.randomizeBrush()}})}var t,n;return t=e,(n=[{key:"applyDefaultPreset",value:function(){var e=ae["brownian fungus"];this.applyBrushPreset(e)}},{key:"initializeMenu",value:function(){this.createMenuTabbing(),this.addSelectOptions()}},{key:"addAllEventHandlers",value:function(){var e=this;this.addInputEventListeners(),this.addPresetSelectHandlers(),this.addIconButtonHandlers(),document.querySelector(".close-welcome-modal").onclick=function(){e.hideWelcomeModal()},document.querySelector(".close-save-modal").onclick=function(){document.querySelector(".save-modal").style.display="none",e.keys.block=!1},document.getElementById("save-preset-form").onsubmit=function(t){t.preventDefault();var n=t.target[0].value.trim();n&&e.handleSavePreset(n)}}},{key:"getUserPresets",value:function(){return JSON.parse(localStorage.getItem("presets"))||{}}},{key:"hideWelcomeModal",value:function(){document.querySelector(".welcome-modal").style.display="none"}},{key:"createMenuTabbing",value:function(){for(var e=this,t=document.querySelector(".menu-tab-button-container").children,n=0;n<t.length;n+=1)t[n].onclick=function(t){e.hideWelcomeModal();var n=document.getElementById(t.target.getAttribute("panel"));t.target.classList.contains("selected")?e.deselectAllPanels():(e.deselectAllPanels(),t.target.classList.add("selected"),n.style.display="flex","color-panel"===n.id&&(n.style.display="block"))}}},{key:"deselectAllPanels",value:function(){var e,t=ye(document.getElementsByClassName("selected"));try{for(t.s();!(e=t.n()).done;)e.value.classList.remove("selected")}catch(e){t.e(e)}finally{t.f()}var n,r=ye(document.getElementsByClassName("menu-panel"));try{for(r.s();!(n=r.n()).done;)n.value.style.display="none"}catch(e){r.e(e)}finally{r.f()}}},{key:"addSelectOptions",value:function(){for(var e=document.querySelector("[name=brush-style]"),t=0,n=Object.keys(H);t<n.length;t++){var r=n[t],o=document.createElement("option");o.value=r,o.innerHTML=r,e.appendChild(o)}for(var i=document.querySelector("[name=color-brush-palette]"),s=document.querySelector("[name=color-particle-palette]"),a=0,l=Object.keys(le);a<l.length;a++){var u=l[a],c=document.createElement("option");c.value=u,c.innerHTML=u,i.appendChild(c);var h=document.createElement("option");h.value=u,h.innerHTML=u,s.appendChild(h)}var p=document.querySelector("[name=brush-preset]"),d=document.createElement("optgroup");d.label="Presets";for(var f=0,y=Object.keys(this.brushPresets);f<y.length;f++){var m=y[f],v=document.createElement("option");v.value=m,v.innerHTML=m,d.appendChild(v)}if(p.appendChild(d),Object.keys(this.userBrushPresets).length>0){var g=document.createElement("optgroup");g.label="Saved Presets",g.id="user-preset-options";for(var b=0,A=Object.keys(this.userBrushPresets);b<A.length;b++){var x=A[b],C=document.createElement("option");C.value=x,C.innerHTML=x,g.appendChild(C)}p.appendChild(g)}}},{key:"addInputEventListeners",value:function(){for(var e=this.getSettingsFromPainting(),t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],o=document.querySelector("[name=".concat(r,"]"));o&&(o.onchange=this.createOnChangeHandler(r))}}},{key:"createOnChangeHandler",value:function(e){var t=this;return function(n){var r=t.getSettingsFromPainting();switch(n.target.type){case"number":var o=Number(n.target.value);o<Number(n.target.min)&&(o=Number(n.target.min),n.target.value=o),o>Number(n.target.max)&&(o=Number(n.target.max),n.target.value=o),console.log("".concat(e," changed to ").concat(o)),r[e]=o;break;case"checkbox":var i=n.target.checked;r[e]=i,console.log("".concat(e," changed to ").concat(i)),"color-brush-dynamic"!==n.target.name&&"color-particle-dynamic"!==n.target.name||t.toggleColorBoxes(n.target.name,i);break;case"color":var s=n.target.value;r[e]=ce(s),console.log("".concat(e," changed to ").concat(s));break;default:r[e]=n.target.value,console.log("".concat(e," changed to ").concat(n.target.value))}"reflection-type"===n.target.name&&t.toggleReflectionAmountBox(n.target.value),t.applySettingsToPainting(r)}}},{key:"toggleColorBoxes",value:function(e,t){var n,r=ye(document.getElementsByClassName("".concat(e,"-").concat(t)));try{for(r.s();!(n=r.n()).done;)n.value.style.display="flex"}catch(e){r.e(e)}finally{r.f()}var o,i=ye(document.getElementsByClassName("".concat(e,"-").concat(!t)));try{for(i.s();!(o=i.n()).done;)o.value.style.display="none"}catch(e){i.e(e)}finally{i.f()}}},{key:"toggleReflectionAmountBox",value:function(e){var t="polar"===e;document.getElementsByClassName("polar-reflection-true")[0].style.display=t?"flex":"none"}},{key:"addPresetSelectHandlers",value:function(){var e=this;document.querySelector("[name=color-brush-palette]").onchange=function(t){var n=le[t.target.value];e.brush.brushColorGenerator=R.deserialize(n)},document.querySelector("[name=color-particle-palette]").onchange=function(t){var n=le[t.target.value];e.brush.particleColorGenerator=R.deserialize(n)},document.querySelector("[name=brush-preset]").onchange=function(t){var n=e.brushPresets[t.target.value];n||(n=e.userBrushPresets[t.target.value]),e.applyBrushPreset(n)}}},{key:"addIconButtonHandlers",value:function(){var e=this,t=document.getElementById("pause-button"),n=document.getElementById("resume-button");t.onclick=function(){return e.handlePause()},n.onclick=function(){return e.handlePause()},document.getElementById("save-button").onclick=function(){return e.handleOpenSave()},document.getElementById("delete-button").onclick=function(){return e.paintingModel.clear()},document.getElementById("shuffle-button").onclick=function(){return e.randomizeBrush()}}},{key:"handlePause",value:function(){var e=document.getElementById("pause-button"),t=document.getElementById("resume-button");if(!this.brush.settings.pauseMovement)return this.brush.settings.pauseMovement=!0,e.style.display="none",void(t.style.display="flex");this.brush.settings.pauseMovement=!1,e.style.display="flex",t.style.display="none"}},{key:"handleOpenSave",value:function(){this.keys.block=!0,document.querySelector(".save-modal").style.display="flex",document.querySelector(".welcome-modal").style.display="none"}},{key:"handleSavePreset",value:function(e){console.log(e),this.userBrushPresets[e]=this.getBrushPreset(),localStorage.setItem("presets",JSON.stringify(this.userBrushPresets)),this.addPresetToDropdown(e),document.querySelector(".save-modal").style.display="none"}},{key:"addPresetToDropdown",value:function(e){var t=document.getElementById("user-preset-options");t||((t=document.createElement("optgroup")).id="user-preset-options",t.label="Saved presets");var n=document.createElement("option");n.value=e,n.innerHTML=e,t.appendChild(n),document.querySelector("[name=brush-preset]").value=e}},{key:"randomizeBrush",value:function(){var e,t=this.getSettingsFromPainting();t["brush-style"]=(e=Object.keys(H))[O(0,e.length-1)],t["brush-speed"]=T(.2,5),t["brush-size"]=O(1,50),t["brush-growth"]=T(-1,1),t["brush-outline"]=O(1,10)>9,t["brush-bounce"]=!!O(0,1),t["brush-gravity-mouse"]=O(1,6)>5;var n=O(0,10);n>4&&(t["reflection-type"]="polar"),n>6&&(t["reflection-type"]="horizontal"),n>8&&(t["reflection-type"]="vertical"),t["reflection-amount"]=O(2,6),this.applySettingsToPainting(t),this.applySettingsToDOM(t)}},{key:"getSettingsFromPainting",value:function(){return console.log("getting settings"),{"brush-style":this.brush.settings.movement,"brush-speed":this.brush.settings.speed,"brush-size":this.brush.settings.size,"brush-growth":this.brush.settings.growth,"brush-outline":this.brush.settings.outline,"brush-bounce":this.brush.settings.bounce,"brush-gravity-mouse":this.brush.settings.followMouse,"color-brush":ue(this.brush.settings.brushColor),"color-brush-dynamic":this.brush.settings.dynamicBrushColor,"color-brush-dynamic-speed":this.brush.brushColorGenerator.speed,"color-brush-dynamic-interval":this.brush.brushColorGenerator.interval,"color-brush-apply":this.brush.settings.useBrushColor,"color-particle-dynamic":this.brush.settings.dynamicParticleColor,"color-particle-dynamic-speed":this.brush.particleColorGenerator.speed,"color-particle-dynamic-interval":this.brush.particleColorGenerator.interval,"reflection-type":this.brush.settings.reflection.type,"reflection-amount":this.brush.settings.reflection.amount,"performance-particle-quality":this.brush.settings.shape,"performance-particle-lifespan":this.brush.settings.lifespan,"performance-interpolate-mouse":this.brush.settings.interpolateMouse,"performance-interpolate-particles":this.brush.settings.interpolateParticles,"performance-dynamic-particle-removal":this.paintingModel.settings.dynamicallyRemoveParticles,"color-background":ue(this.paintingModel.settings.backgroundColor)}}},{key:"applySettingsToPainting",value:function(e){console.log("applying settings: ",e);var t=de(de({},this.getSettingsFromPainting()),e);this.brush.settings.movement=t["brush-style"],this.brush.settings.speed=t["brush-speed"],this.brush.settings.size=t["brush-size"],this.brush.settings.growth=t["brush-growth"],this.brush.settings.outline=t["brush-outline"],this.brush.settings.bounce=t["brush-bounce"],this.brush.settings.followMouse=t["brush-gravity-mouse"],this.brush.settings.brushColor=ce(t["color-brush"]),this.brush.settings.dynamicBrushColor=t["color-brush-dynamic"],this.brush.brushColorGenerator.speed=t["color-brush-dynamic-speed"],this.brush.brushColorGenerator.interval=t["color-brush-dynamic-interval"],this.brush.settings.useBrushColor=t["color-brush-apply"],this.brush.settings.dynamicParticleColor=t["color-particle-dynamic"],this.brush.particleColorGenerator.speed=t["color-particle-dynamic-speed"],this.brush.particleColorGenerator.interval=t["color-particle-dynamic-interval"],this.brush.settings.reflection.type=t["reflection-type"],this.brush.settings.reflection.amount=t["reflection-amount"],this.brush.settings.shape=t["performance-particle-quality"],this.brush.settings.lifespan=t["performance-particle-lifespan"],this.brush.settings.interpolateMouse=t["performance-interpolate-mouse"],this.brush.settings.interpolateParticles=t["performance-interpolate-particles"],this.paintingModel.settings.dynamicallyRemoveParticles=t["performance-dynamic-particle-removal"],this.paintingModel.settings.backgroundColor=ce(t["color-background"])}},{key:"getBrushPreset",value:function(){return[this.brush.settings.movement,this.brush.settings.speed,this.brush.settings.size,this.brush.settings.growth,this.brush.settings.outline,this.brush.settings.bounce,this.brush.settings.followMouse,ue(this.brush.settings.brushColor),this.brush.settings.dynamicBrushColor,this.brush.brushColorGenerator.speed,this.brush.brushColorGenerator.interval,this.brush.settings.useBrushColor,this.brush.settings.dynamicParticleColor,this.brush.particleColorGenerator.speed,this.brush.particleColorGenerator.interval,this.brush.settings.reflection.type,this.brush.settings.reflection.amount]}},{key:"applyBrushPreset",value:function(e){var t={};["brush-style","brush-speed","brush-size","brush-growth","brush-outline","brush-bounce","brush-gravity-mouse","color-brush","color-brush-dynamic","color-brush-dynamic-speed","color-brush-dynamic-interval","color-brush-apply","color-particle-dynamic","color-particle-dynamic-speed","color-particle-dynamic-interval","reflection-type","reflection-amount","color-brush-generator","color-particle-generator"].map((function(n,r){t[n]=e[r]})),this.applySettingsToPainting(t),this.applySettingsToDOM(t)}},{key:"applySettingsToDOM",value:function(e){console.log("applying settings to DOM:",e);for(var t=de(de({},this.getSettingsFromPainting()),e),n=0,r=Object.keys(t);n<r.length;n++){var o=r[n],i=document.querySelector("[name=".concat(o,"]"));if(i)switch(i.type){case"checkbox":i.checked=t[o];break;case"color":i.value=ue(t[o]);break;default:i.value=t[o]}}this.toggleColorBoxes("color-brush-dynamic",t["color-brush-dynamic"]),this.toggleColorBoxes("color-particle-dynamic",t["color-particle-dynamic"]),this.toggleReflectionAmountBox(t["reflection-amount"])}}])&&ve(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Ae=be;var xe=document.getElementById("foreground-canvas"),Ce=document.querySelector(".canvas-container");console.log("Creating painting...");var we=new se(xe,Ce);console.log("Creating menu..."),new Ae(we),window.onresize=function(){we.resize()},we.init()})()})();
//# sourceMappingURL=main.bundle.js.map